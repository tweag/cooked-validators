<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.MockChain.MockChainSt</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators</span><ul class="links" id="page-menu"><li><a href="src/Cooked.MockChain.MockChainSt.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.MockChain.MockChainSt</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Initial <code>MockChainSt</code> from an <code>InitialDistribution</code></a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exposes the internal state in which our direct simulation is
 run, and functions to update and querry it.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:MockChainSt">MockChainSt</a> = <a href="#v:MockChainSt">MockChainSt</a> {<ul class="subs"><li><a href="#v:mcstParams">mcstParams</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a></li><li><a href="#v:mcstIndex">mcstIndex</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a></li><li><a href="#v:mcstDatums">mcstDatums</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a> (<a href="Cooked-Skeleton-Datum.html#t:TxSkelOutDatum" title="Cooked.Skeleton.Datum">TxSkelOutDatum</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a>)</li><li><a href="#v:mcstScripts">mcstScripts</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ScriptHash" title="Ledger">ScriptHash</a> (<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:Versioned" title="Ledger.Tx.Internal">Versioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a>)</li><li><a href="#v:mcstCurrentSlot">mcstCurrentSlot</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Slot.html#t:Slot" title="Ledger.Slot">Slot</a></li></ul>}</li><li class="src short"><a href="#v:getIndex">getIndex</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:TxOutRef" title="Ledger.Tx.Internal">TxOutRef</a> <a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V2-Tx.html#t:TxOut" title="PlutusLedgerApi.V2.Tx">TxOut</a></li><li class="src short"><a href="#v:mcstToUtxoState">mcstToUtxoState</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></li><li class="src short"><a href="#v:mcstToSkelContext">mcstToSkelContext</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:SkelContext" title="Cooked.MockChain.UtxoState">SkelContext</a></li><li class="src short"><a href="#v:mcstToEmulatedLedgerState">mcstToEmulatedLedgerState</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Validation.html#t:EmulatedLedgerState" title="Cardano.Node.Emulator.Internal.Node.Validation">EmulatedLedgerState</a></li><li class="src short"><a href="#v:addDatums">addDatums</a> :: [(<a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a>, <a href="Cooked-Skeleton-Datum.html#t:TxSkelOutDatum" title="Cooked.Skeleton.Datum">TxSkelOutDatum</a>)] -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></li><li class="src short"><a href="#v:removeDatums">removeDatums</a> :: [<a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a>] -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></li><li class="src short"><a href="#v:addScript">addScript</a> :: (<a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ToScriptHash" title="Ledger">ToScriptHash</a> s, <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ToVersioned" title="Ledger">ToVersioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a> s) =&gt; s -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></li><li class="src short"><a href="#v:mockChainSt0From">mockChainSt0From</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; m <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></li><li class="src short"><a href="#v:referenceScriptMap0From">referenceScriptMap0From</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ScriptHash" title="Ledger">ScriptHash</a> (<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:Versioned" title="Ledger.Tx.Internal">Versioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a>)</li><li class="src short"><a href="#v:scriptMap0From">scriptMap0From</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ScriptHash" title="Ledger">ScriptHash</a> (<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:Versioned" title="Ledger.Tx.Internal">Versioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a>)</li><li class="src short"><a href="#v:datumMap0From">datumMap0From</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a> (<a href="Cooked-Skeleton-Datum.html#t:TxSkelOutDatum" title="Cooked.Skeleton.Datum">TxSkelOutDatum</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a>)</li><li class="src short"><a href="#v:utxoIndex0From">utxoIndex0From</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; m <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a></li><li class="src short"><a href="#v:utxoIndex0">utxoIndex0</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; m <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MockChainSt" class="def">MockChainSt</a> <a href="src/Cooked.MockChain.MockChainSt.html#MockChainSt" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></p><div class="doc"><p>The state used to run the simulation in <code><a href="Cooked-MockChain.html#v:Direct" title="Cooked.MockChain">Direct</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MockChainSt" class="def">MockChainSt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:mcstParams" class="def">mcstParams</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstIndex" class="def">mcstIndex</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstDatums" class="def">mcstDatums</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a> (<a href="Cooked-Skeleton-Datum.html#t:TxSkelOutDatum" title="Cooked.Skeleton.Datum">TxSkelOutDatum</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstScripts" class="def">mcstScripts</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ScriptHash" title="Ledger">ScriptHash</a> (<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:Versioned" title="Ledger.Tx.Internal">Versioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mcstCurrentSlot" class="def">mcstCurrentSlot</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Slot.html#t:Slot" title="Ledger.Slot">Slot</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MockChainSt">Instances</h4><details id="i:MockChainSt" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Show:1"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></span> <a href="src/Cooked.MockChain.MockChainSt.html#line-48" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-MockChainSt.html">Cooked.MockChain.MockChainSt</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a>] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Default:2"></span> <a href="https://hackage.haskell.org/package/-/docs/Data-Default-Internal.html#t:Default" title="Data.Default.Internal">Default</a> <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></span> <a href="src/Cooked.MockChain.MockChainSt.html#line-50" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Default:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-MockChainSt.html">Cooked.MockChain.MockChainSt</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> <a href="#v:def" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:Eq:3"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></span> <a href="src/Cooked.MockChain.MockChainSt.html#line-48" class="link">Source</a> <a href="#t:MockChainSt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-MockChainSt.html">Cooked.MockChain.MockChainSt</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MockChainSt:MonadState:4"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; <a href="https://hackage.haskell.org/package/-/docs/Control-Monad-Representable-State.html#t:MonadState" title="Control.Monad.Representable.State">MonadState</a> <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> (<a href="Cooked-MockChain-Direct.html#t:MockChainT" title="Cooked.MockChain.Direct">MockChainT</a> m)</span> <a href="src/Cooked.MockChain.Direct.html#line-79" class="link">Source</a> <a href="#t:MonadState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MockChainSt:MonadState:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Direct.html">Cooked.MockChain.Direct</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Cooked-MockChain-Direct.html#t:MockChainT" title="Cooked.MockChain.Direct">MockChainT</a> m <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-Direct.html#t:MockChainT" title="Cooked.MockChain.Direct">MockChainT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; (a, <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a>)) -&gt; <a href="Cooked-MockChain-Direct.html#t:MockChainT" title="Cooked.MockChain.Direct">MockChainT</a> m a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getIndex" class="def">getIndex</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:TxOutRef" title="Ledger.Tx.Internal">TxOutRef</a> <a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V2-Tx.html#t:TxOut" title="PlutusLedgerApi.V2.Tx">TxOut</a> <a href="src/Cooked.MockChain.MockChainSt.html#getIndex" class="link">Source</a> <a href="#v:getIndex" class="selflink">#</a></p><div class="doc"><p>Converts a builtin UtxoIndex into our own usable map between utxos and
 associated outputs.</p></div></div><div class="top"><p class="src"><a id="v:mcstToUtxoState" class="def">mcstToUtxoState</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> <a href="src/Cooked.MockChain.MockChainSt.html#mcstToUtxoState" class="link">Source</a> <a href="#v:mcstToUtxoState" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code> from a <code><a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></code></p></div></div><div class="top"><p class="src"><a id="v:mcstToSkelContext" class="def">mcstToSkelContext</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:SkelContext" title="Cooked.MockChain.UtxoState">SkelContext</a> <a href="src/Cooked.MockChain.MockChainSt.html#mcstToSkelContext" class="link">Source</a> <a href="#v:mcstToSkelContext" class="selflink">#</a></p><div class="doc"><p>Generating a skeleton context from a mockchain state. This is dedicated to
 allowing the pretty printer to resolve skeleton parts.</p></div></div><div class="top"><p class="src"><a id="v:mcstToEmulatedLedgerState" class="def">mcstToEmulatedLedgerState</a> :: <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Validation.html#t:EmulatedLedgerState" title="Cardano.Node.Emulator.Internal.Node.Validation">EmulatedLedgerState</a> <a href="src/Cooked.MockChain.MockChainSt.html#mcstToEmulatedLedgerState" class="link">Source</a> <a href="#v:mcstToEmulatedLedgerState" class="selflink">#</a></p><div class="doc"><p>Generating an emulated state for the emulator from a mockchain state and
 some parameters, based on a standard initial state</p></div></div><div class="top"><p class="src"><a id="v:addDatums" class="def">addDatums</a> :: [(<a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a>, <a href="Cooked-Skeleton-Datum.html#t:TxSkelOutDatum" title="Cooked.Skeleton.Datum">TxSkelOutDatum</a>)] -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> <a href="src/Cooked.MockChain.MockChainSt.html#addDatums" class="link">Source</a> <a href="#v:addDatums" class="selflink">#</a></p><div class="doc"><p>Adds a list of pairs <code>(datumHash, datum)</code> into a <code><a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></code></p></div></div><div class="top"><p class="src"><a id="v:removeDatums" class="def">removeDatums</a> :: [<a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a>] -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> <a href="src/Cooked.MockChain.MockChainSt.html#removeDatums" class="link">Source</a> <a href="#v:removeDatums" class="selflink">#</a></p><div class="doc"><p>Removes a certain amound of datum hashes from a <code><a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></code></p></div></div><div class="top"><p class="src"><a id="v:addScript" class="def">addScript</a> :: (<a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ToScriptHash" title="Ledger">ToScriptHash</a> s, <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ToVersioned" title="Ledger">ToVersioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a> s) =&gt; s -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> -&gt; <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> <a href="src/Cooked.MockChain.MockChainSt.html#addScript" class="link">Source</a> <a href="#v:addScript" class="selflink">#</a></p><div class="doc"><p>Stores a script in a <code><a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></code></p></div></div><a href="#g:1" id="g:1"><h1>Initial <code>MockChainSt</code> from an <code>InitialDistribution</code></h1></a><div class="top"><p class="src"><a id="v:mockChainSt0From" class="def">mockChainSt0From</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; m <a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a> <a href="src/Cooked.MockChain.MockChainSt.html#mockChainSt0From" class="link">Source</a> <a href="#v:mockChainSt0From" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Cooked-MockChain-MockChainSt.html#t:MockChainSt" title="Cooked.MockChain.MockChainSt">MockChainSt</a></code> from an <code><a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></code>. This lives in
 <code><a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a></code> because the creation of <code><a href="Cooked-MockChain-MockChainSt.html#v:mcstIndex" title="Cooked.MockChain.MockChainSt">mcstIndex</a></code> is impure</p></div></div><div class="top"><p class="src"><a id="v:referenceScriptMap0From" class="def">referenceScriptMap0From</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ScriptHash" title="Ledger">ScriptHash</a> (<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:Versioned" title="Ledger.Tx.Internal">Versioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a>) <a href="src/Cooked.MockChain.MockChainSt.html#referenceScriptMap0From" class="link">Source</a> <a href="#v:referenceScriptMap0From" class="selflink">#</a></p><div class="doc"><p>Collects the reference scripts present in an <code><a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></code></p></div></div><div class="top"><p class="src"><a id="v:scriptMap0From" class="def">scriptMap0From</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:ScriptHash" title="Ledger">ScriptHash</a> (<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:Versioned" title="Ledger.Tx.Internal">Versioned</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:Script" title="Ledger">Script</a>) <a href="src/Cooked.MockChain.MockChainSt.html#scriptMap0From" class="link">Source</a> <a href="#v:scriptMap0From" class="selflink">#</a></p><div class="doc"><p>Collects the scripts paid to in an <code><a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></code></p></div></div><div class="top"><p class="src"><a id="v:datumMap0From" class="def">datumMap0From</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Map" title="Distribution.Compat.Prelude">Map</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger.html#t:DatumHash" title="Ledger">DatumHash</a> (<a href="Cooked-Skeleton-Datum.html#t:TxSkelOutDatum" title="Cooked.Skeleton.Datum">TxSkelOutDatum</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a>) <a href="src/Cooked.MockChain.MockChainSt.html#datumMap0From" class="link">Source</a> <a href="#v:datumMap0From" class="selflink">#</a></p><div class="doc"><p>Collects the datums paid in an <code><a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></code></p></div></div><div class="top"><p class="src"><a id="v:utxoIndex0From" class="def">utxoIndex0From</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; m <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a> <a href="src/Cooked.MockChain.MockChainSt.html#utxoIndex0From" class="link">Source</a> <a href="#v:utxoIndex0From" class="selflink">#</a></p><div class="doc"><p>This creates the initial UtxoIndex from an initial distribution by
 submitting an initial transaction with the appropriate content:</p><ul><li>inputs consist of a single dummy pseudo input</li><li>outputs are translated from the <code><a href="Cooked-Skeleton-Output.html#t:TxSkelOut" title="Cooked.Skeleton.Output">TxSkelOut</a></code> list in the initial
   distribution</li></ul><p>Two things to note:</p><ul><li>We don't know what <a href="Magic.html">Magic</a> means for the network ID (TODO)</li><li>The genesis key hash has been taken from
   <a href="https://github.com/input-output-hk/cardano-node/blob/543b267d75d3d448e1940f9ec04b42bd01bbb16b/cardano-api/test/Test/Cardano/Api/Genesis.hs#L60">https://github.com/input-output-hk/cardano-node/blob/543b267d75d3d448e1940f9ec04b42bd01bbb16b/cardano-api/test/Test/Cardano/Api/Genesis.hs#L60</a></li></ul></div></div><div class="top"><p class="src"><a id="v:utxoIndex0" class="def">utxoIndex0</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; m <a href="https://hackage.haskell.org/package/-/docs/Ledger-Index-Internal.html#t:UtxoIndex" title="Ledger.Index.Internal">UtxoIndex</a> <a href="src/Cooked.MockChain.MockChainSt.html#utxoIndex0" class="link">Source</a> <a href="#v:utxoIndex0" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-MockChain-MockChainSt.html#v:utxoIndex0From" title="Cooked.MockChain.MockChainSt">utxoIndex0From</a></code> with the default <code><a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>