<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.Ltl</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators</span><ul class="links" id="page-menu"><li><a href="src/Cooked.Ltl.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.Ltl</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">LTL formulas</a></li><li><a href="#g:2">LTL combinators</a></li><li><a href="#g:3">Using LTL formulas to modify computations</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This modules provides the infrastructure to modify sequences of
 transactions using LTL formulaes with atomic modifications. This idea is to
 describe when to apply certain modifications within a trace.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Ltl">Ltl</a> a<ul class="subs"><li>= <a href="#v:LtlTruth">LtlTruth</a></li><li>| <a href="#v:LtlFalsity">LtlFalsity</a></li><li>| <a href="#v:LtlAtom">LtlAtom</a> a</li><li>| <a href="#v:LtlNot">LtlNot</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlOr">LtlOr</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlAnd">LtlAnd</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlNext">LtlNext</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlUntil">LtlUntil</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li><li>| <a href="#v:LtlRelease">LtlRelease</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</li></ul></li><li class="src short"><a href="#v:ltlNot-39-">ltlNot'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlOr-39-">ltlOr'</a> :: a -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAnd-39-">ltlAnd'</a> :: a -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlNext-39-">ltlNext'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAny">ltlAny</a> :: [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAny-39-">ltlAny'</a> :: [a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAll">ltlAll</a> :: [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAll-39-">ltlAll'</a> :: [a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlDelay">ltlDelay</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlDelay-39-">ltlDelay'</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlEventually">ltlEventually</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlEventually-39-">ltlEventually'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAlways">ltlAlways</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlAlways-39-">ltlAlways'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlWhenPossible">ltlWhenPossible</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlWhenPossible-39-">ltlWhenPossible'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlIfPossible">ltlIfPossible</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlIfPossible-39-">ltlIfPossible'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlImplies">ltlImplies</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlImplies-39-">ltlImplies'</a> :: a -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlNever">ltlNever</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><a href="#v:ltlNever-39-">ltlNever'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Requirement">Requirement</a> a<ul class="subs"><li>= <a href="#v:Apply">Apply</a> a</li><li>| <a href="#v:EnsureFailure">EnsureFailure</a> a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:LtlOp">LtlOp</a> modification builtin :: <a href="https://hackage.haskell.org/package/-/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:WrapLtl">WrapLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin a</li><li><a href="#v:Builtin">Builtin</a> :: builtin a -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin a</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:StagedLtl">StagedLtl</a> modification builtin = <a href="Cooked-Staged.html#t:Staged" title="Cooked.Staged">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin)</li><li class="src short"><a href="#v:singletonBuiltin">singletonBuiltin</a> :: builtin a -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a</li><li class="src short"><span class="keyword">class</span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; <a href="#t:MonadLtl">MonadLtl</a> modification m <span class="keyword">where</span><ul class="subs"><li><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; m a -&gt; m a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:ModInterpBuiltin">ModInterpBuiltin</a> modification builtin m <span class="keyword">where</span><ul class="subs"><li><a href="#v:modifyAndInterpBuiltin">modifyAndInterpBuiltin</a> :: builtin a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (m a) ([<a href="Cooked-Ltl.html#t:Requirement" title="Cooked.Ltl">Requirement</a> modification] -&gt; m a)</li></ul></li><li class="src short"><a href="#v:interpStagedLtl">interpStagedLtl</a> :: <span class="keyword">forall</span> modification builtin m. (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:MonadPlus" title="Distribution.Compat.Prelude">MonadPlus</a> m, <a href="Cooked-Ltl.html#t:ModInterpBuiltin" title="Cooked.Ltl">ModInterpBuiltin</a> modification builtin m) =&gt; <span class="keyword">forall</span> a. <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a -&gt; m a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>LTL formulas</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Ltl" class="def">Ltl</a> a <a href="src/Cooked.Ltl.html#Ltl" class="link">Source</a> <a href="#t:Ltl" class="selflink">#</a></p><div class="doc"><p>Type of LTL formulas with atomic formulas of type <code>a</code>. Think of <code>a</code> as a
 type of &quot;modifications&quot;, then a value of type <code>Ltl a</code> describes where to
 apply <code><a href="Cooked-Ltl.html#t:Requirement" title="Cooked.Ltl">Requirement</a></code>s in a trace.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LtlTruth" class="def">LtlTruth</a></td><td class="doc"><p>The modification that always applies but does nothing.</p></td></tr><tr><td class="src"><a id="v:LtlFalsity" class="def">LtlFalsity</a></td><td class="doc"><p>The modification that never applies (i.e. always fails).</p></td></tr><tr><td class="src"><a id="v:LtlAtom" class="def">LtlAtom</a> a</td><td class="doc"><p>The atomic modification, applying at the current time step.</p></td></tr><tr><td class="src"><a id="v:LtlNot" class="def">LtlNot</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the given formula must not hold at the current time step
 i.e. that the appropriate modifications fail.</p></td></tr><tr><td class="src"><a id="v:LtlOr" class="def">LtlOr</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Disjunction will be interpreted in an &quot;intuitionistic&quot; way, i.e. as
 branching into the &quot;timeline&quot; where the left disjunct holds and the one
 where the right disjunct holds. In that sense, it is an exclusive or, as
 it does not introduce the branch where both disjuncts hold.</p></td></tr><tr><td class="src"><a id="v:LtlAnd" class="def">LtlAnd</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Conjunction will be interpreted as &quot;apply both modifications&quot;.
 Attention: The &quot;apply both&quot; operation will be user-defined for atomic
 modifications, so that conjunction may for example fail to be commutative
 if the operation on atomic modification is not commutative. In
 particular, this is the case for tweaks, where the second modification
 will be applied first, to be consistent with nested modifications.</p></td></tr><tr><td class="src"><a id="v:LtlNext" class="def">LtlNext</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the given formula holds at the next time step.</p></td></tr><tr><td class="src"><a id="v:LtlUntil" class="def">LtlUntil</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the first formula holds at least until the second one
 begins to hold, which must happen ltlEventually. The following holds:</p><pre>a `LtlUntil` b &lt;=&gt; b `LtlOr` (a `LtlAnd` LtlNext (a `LtlUntil` b))</pre><p><code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code> could technically be defined as the above formula using
 Haskell's laziness, but is left as a constructor to have a counterpart
 for <code><a href="Cooked-Ltl.html#v:LtlRelease" title="Cooked.Ltl">LtlRelease</a></code>, which cannot.</p></td></tr><tr><td class="src"><a id="v:LtlRelease" class="def">LtlRelease</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a) (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</td><td class="doc"><p>Assert that the second formula has to hold up to and including the
 point when the first begins to hold; if that ltlNever happens, the second
 formula has to remain true forever. View this as dual to <code><a href="Cooked-Ltl.html#v:LtlUntil" title="Cooked.Ltl">LtlUntil</a></code>. The
 following holds:</p><pre>a `LtlRelease` b &lt;=&gt; b `LtlAnd` (a `LtlOr` LtlNext (a `LtlRelease` b))</pre><p><code><a href="Cooked-Ltl.html#v:LtlRelease" title="Cooked.Ltl">LtlRelease</a></code> needs it own constructor, as it is considered valid on an
 empty computation, which the above formula is not in most cases.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Ltl">Instances</h4><details id="i:Ltl" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Ltl:Functor:1"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Functor" title="Distribution.Compat.Prelude">Functor</a> <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></span> <a href="src/Cooked.Ltl.html#line-95" class="link">Source</a> <a href="#t:Ltl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Ltl:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> b -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Ltl:Show:2"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</span> <a href="src/Cooked.Ltl.html#line-95" class="link">Source</a> <a href="#t:Ltl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Ltl:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:ShowS" title="Distribution.Compat.Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Ltl:Eq:3"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> (<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a)</span> <a href="src/Cooked.Ltl.html#line-95" class="link">Source</a> <a href="#t:Ltl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Ltl:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>LTL combinators</h1></a><div class="top"><p class="src"><a id="v:ltlNot-39-" class="def">ltlNot'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlNot%27" class="link">Source</a> <a href="#v:ltlNot-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:LtlNot" title="Cooked.Ltl">LtlNot</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlOr-39-" class="def">ltlOr'</a> :: a -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlOr%27" class="link">Source</a> <a href="#v:ltlOr-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:LtlOr" title="Cooked.Ltl">LtlOr</a></code>, but first wraps the inputs in atomic formulas.</p></div></div><div class="top"><p class="src"><a id="v:ltlAnd-39-" class="def">ltlAnd'</a> :: a -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAnd%27" class="link">Source</a> <a href="#v:ltlAnd-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:LtlAnd" title="Cooked.Ltl">LtlAnd</a></code>, but first wraps the inputs in atomic formulas.</p></div></div><div class="top"><p class="src"><a id="v:ltlNext-39-" class="def">ltlNext'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlNext%27" class="link">Source</a> <a href="#v:ltlNext-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:LtlNext" title="Cooked.Ltl">LtlNext</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlAny" class="def">ltlAny</a> :: [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAny" class="link">Source</a> <a href="#v:ltlAny" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which consists of the disjunction of all the
 formulas in the input list.</p></div></div><div class="top"><p class="src"><a id="v:ltlAny-39-" class="def">ltlAny'</a> :: [a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAny%27" class="link">Source</a> <a href="#v:ltlAny-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlAny" title="Cooked.Ltl">ltlAny</a></code>, but first wraps the elements in the input list in atomic
 formulas.</p></div></div><div class="top"><p class="src"><a id="v:ltlAll" class="def">ltlAll</a> :: [<a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAll" class="link">Source</a> <a href="#v:ltlAll" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which consists of the conjunction of all the
 formulas in the input list.</p></div></div><div class="top"><p class="src"><a id="v:ltlAll-39-" class="def">ltlAll'</a> :: [a] -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAll%27" class="link">Source</a> <a href="#v:ltlAll-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlAll" title="Cooked.Ltl">ltlAll</a></code>, but first wraps the elements in the input list in atomic
 formulas.</p></div></div><div class="top"><p class="src"><a id="v:ltlDelay" class="def">ltlDelay</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlDelay" class="link">Source</a> <a href="#v:ltlDelay" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which consists of the delay of the input formula by
 <code>n</code> time steps, if <code>n &gt; 0</code>.</p></div></div><div class="top"><p class="src"><a id="v:ltlDelay-39-" class="def">ltlDelay'</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlDelay%27" class="link">Source</a> <a href="#v:ltlDelay-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlDelay" title="Cooked.Ltl">ltlDelay</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlEventually" class="def">ltlEventually</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlEventually" class="link">Source</a> <a href="#v:ltlEventually" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which ensures the input formula eventually holds.</p></div></div><div class="top"><p class="src"><a id="v:ltlEventually-39-" class="def">ltlEventually'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlEventually%27" class="link">Source</a> <a href="#v:ltlEventually-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlEventually" title="Cooked.Ltl">ltlEventually</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlAlways" class="def">ltlAlways</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAlways" class="link">Source</a> <a href="#v:ltlAlways" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which ensures the input formula always holds.</p></div></div><div class="top"><p class="src"><a id="v:ltlAlways-39-" class="def">ltlAlways'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlAlways%27" class="link">Source</a> <a href="#v:ltlAlways-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlAlways" title="Cooked.Ltl">ltlAlways</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlWhenPossible" class="def">ltlWhenPossible</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlWhenPossible" class="link">Source</a> <a href="#v:ltlWhenPossible" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which applies a formula whenever possible, while
 ignoring steps when it is not.</p></div></div><div class="top"><p class="src"><a id="v:ltlWhenPossible-39-" class="def">ltlWhenPossible'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlWhenPossible%27" class="link">Source</a> <a href="#v:ltlWhenPossible-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlWhenPossible" title="Cooked.Ltl">ltlWhenPossible</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlIfPossible" class="def">ltlIfPossible</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlIfPossible" class="link">Source</a> <a href="#v:ltlIfPossible" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula which either ensure the given formula does not
 hold, or apply its modifications.</p></div></div><div class="top"><p class="src"><a id="v:ltlIfPossible-39-" class="def">ltlIfPossible'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlIfPossible%27" class="link">Source</a> <a href="#v:ltlIfPossible-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlIfPossible" title="Cooked.Ltl">ltlIfPossible</a></code>, but first wraps the input in an atomic formula.</p></div></div><div class="top"><p class="src"><a id="v:ltlImplies" class="def">ltlImplies</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlImplies" class="link">Source</a> <a href="#v:ltlImplies" class="selflink">#</a></p><div class="doc"><p>Produces a formula that succeeds if the first formula does not hold, or if
 both formulas hold.</p></div></div><div class="top"><p class="src"><a id="v:ltlImplies-39-" class="def">ltlImplies'</a> :: a -&gt; a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlImplies%27" class="link">Source</a> <a href="#v:ltlImplies-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlImplies" title="Cooked.Ltl">ltlImplies</a></code> but first wraps the inputs in atomic formulas.</p></div></div><div class="top"><p class="src"><a id="v:ltlNever" class="def">ltlNever</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlNever" class="link">Source</a> <a href="#v:ltlNever" class="selflink">#</a></p><div class="doc"><p>Produces an Ltl formula ensuring the given formula always fails.</p></div></div><div class="top"><p class="src"><a id="v:ltlNever-39-" class="def">ltlNever'</a> :: a -&gt; <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> a <a href="src/Cooked.Ltl.html#ltlNever%27" class="link">Source</a> <a href="#v:ltlNever-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-Ltl.html#v:ltlNever" title="Cooked.Ltl">ltlNever</a></code>, but first wraps the input in an atomic formula.</p></div></div><a href="#g:3" id="g:3"><h1>Using LTL formulas to modify computations</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Requirement" class="def">Requirement</a> a <a href="src/Cooked.Ltl.html#Requirement" class="link">Source</a> <a href="#t:Requirement" class="selflink">#</a></p><div class="doc"><p>Requirements implied by a given <code><a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></code> formula at a given time step</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Apply" class="def">Apply</a> a</td><td class="doc"><p>Apply this modification now</p></td></tr><tr><td class="src"><a id="v:EnsureFailure" class="def">EnsureFailure</a> a</td><td class="doc"><p>Ensure this modification fails now</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LtlOp" class="def">LtlOp</a> modification builtin :: <a href="https://hackage.haskell.org/package/-/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#LtlOp" class="link">Source</a> <a href="#t:LtlOp" class="selflink">#</a></p><div class="doc"><p>Operations that either allow to use a builtin, or to modify a computation
 using an <code><a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></code> formula.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WrapLtl" class="def">WrapLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Builtin" class="def">Builtin</a> :: builtin a -&gt; <a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LtlOp">Instances</h4><details id="i:LtlOp" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadFail:1"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-MonadFail.html#t:MonadFail" title="Distribution.Compat.MonadFail">MonadFail</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-89" class="link">Source</a> <a href="#t:MonadFail" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadFail:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:Alternative:2"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Alternative" title="Distribution.Compat.Prelude">Alternative</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-81" class="link">Source</a> <a href="#t:Alternative" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:Alternative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadPlus:3"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:MonadPlus" title="Distribution.Compat.Prelude">MonadPlus</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-85" class="link">Source</a> <a href="#t:MonadPlus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadPlus:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mzero">mzero</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:mzero" class="selflink">#</a></p><p class="src"><a href="#v:mplus">mplus</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:mplus" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadBlockChain:4"></span> <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChain" title="Cooked.MockChain.BlockChain">MonadBlockChain</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-111" class="link">Source</a> <a href="#t:MonadBlockChain" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadBlockChain:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:validateTxSkel">validateTxSkel</a> :: <a href="Cooked-Skeleton.html#t:TxSkel" title="Cooked.Skeleton">TxSkel</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-CardanoAPI-Internal.html#t:CardanoTx" title="Ledger.Tx.CardanoAPI.Internal">CardanoTx</a> <a href="src/Cooked.MockChain.BlockChain.html#validateTxSkel" class="link">Source</a> <a href="#v:validateTxSkel" class="selflink">#</a></p><p class="src"><a href="#v:forceOutputs">forceOutputs</a> :: [<a href="Cooked-Skeleton-Output.html#t:TxSkelOut" title="Cooked.Skeleton.Output">TxSkelOut</a>] -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> [<a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:TxOutRef" title="Ledger.Tx.Internal">TxOutRef</a>] <a href="src/Cooked.MockChain.BlockChain.html#forceOutputs" class="link">Source</a> <a href="#v:forceOutputs" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadBlockChainBalancing:5"></span> <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-96" class="link">Source</a> <a href="#t:MonadBlockChainBalancing" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadBlockChainBalancing:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getParams">getParams</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a> <a href="src/Cooked.MockChain.BlockChain.html#getParams" class="link">Source</a> <a href="#v:getParams" class="selflink">#</a></p><p class="src"><a href="#v:utxosAt">utxosAt</a> :: <a href="https://hackage.haskell.org/package/-/docs/Plutus-Script-Utils-Address.html#t:ToAddress" title="Plutus.Script.Utils.Address">ToAddress</a> a =&gt; a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> <a href="Cooked-MockChain-BlockChain.html#t:Utxos" title="Cooked.MockChain.BlockChain">Utxos</a> <a href="src/Cooked.MockChain.BlockChain.html#utxosAt" class="link">Source</a> <a href="#v:utxosAt" class="selflink">#</a></p><p class="src"><a href="#v:txSkelOutByRef">txSkelOutByRef</a> :: <a href="https://hackage.haskell.org/package/-/docs/Ledger-Tx-Internal.html#t:TxOutRef" title="Ledger.Tx.Internal">TxOutRef</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> <a href="Cooked-Skeleton-Output.html#t:TxSkelOut" title="Cooked.Skeleton.Output">TxSkelOut</a> <a href="src/Cooked.MockChain.BlockChain.html#txSkelOutByRef" class="link">Source</a> <a href="#v:txSkelOutByRef" class="selflink">#</a></p><p class="src"><a href="#v:logEvent">logEvent</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> () <a href="src/Cooked.MockChain.BlockChain.html#logEvent" class="link">Source</a> <a href="#v:logEvent" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadBlockChainWithoutValidation:6"></span> <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainWithoutValidation" title="Cooked.MockChain.BlockChain">MonadBlockChainWithoutValidation</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-102" class="link">Source</a> <a href="#t:MonadBlockChainWithoutValidation" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadBlockChainWithoutValidation:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:allUtxos">allUtxos</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> <a href="Cooked-MockChain-BlockChain.html#t:Utxos" title="Cooked.MockChain.BlockChain">Utxos</a> <a href="src/Cooked.MockChain.BlockChain.html#allUtxos" class="link">Source</a> <a href="#v:allUtxos" class="selflink">#</a></p><p class="src"><a href="#v:setParams">setParams</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> () <a href="src/Cooked.MockChain.BlockChain.html#setParams" class="link">Source</a> <a href="#v:setParams" class="selflink">#</a></p><p class="src"><a href="#v:waitNSlots">waitNSlots</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integral" title="Distribution.Compat.Prelude">Integral</a> i =&gt; i -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> <a href="https://hackage.haskell.org/package/-/docs/Ledger-Slot.html#t:Slot" title="Ledger.Slot">Slot</a> <a href="src/Cooked.MockChain.BlockChain.html#waitNSlots" class="link">Source</a> <a href="#v:waitNSlots" class="selflink">#</a></p><p class="src"><a href="#v:define">define</a> :: <a href="Cooked-Pretty-Hashable.html#t:ToHash" title="Cooked.Pretty.Hashable">ToHash</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; a -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="src/Cooked.MockChain.BlockChain.html#define" class="link">Source</a> <a href="#v:define" class="selflink">#</a></p><p class="src"><a href="#v:setConstitutionScript">setConstitutionScript</a> :: <a href="Cooked-Skeleton-User.html#t:ToVScript" title="Cooked.Skeleton.User">ToVScript</a> s =&gt; s -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> () <a href="src/Cooked.MockChain.BlockChain.html#setConstitutionScript" class="link">Source</a> <a href="#v:setConstitutionScript" class="selflink">#</a></p><p class="src"><a href="#v:getConstitutionScript">getConstitutionScript</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> <a href="Cooked-Skeleton-User.html#t:VScript" title="Cooked.Skeleton.User">VScript</a>) <a href="src/Cooked.MockChain.BlockChain.html#getConstitutionScript" class="link">Source</a> <a href="#v:getConstitutionScript" class="selflink">#</a></p><p class="src"><a href="#v:getCurrentReward">getCurrentReward</a> :: <a href="https://hackage.haskell.org/package/-/docs/Plutus-Script-Utils-Address.html#t:ToCredential" title="Plutus.Script.Utils.Address">ToCredential</a> c =&gt; c -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> <a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:Lovelace" title="PlutusLedgerApi.V1.Value">Lovelace</a>) <a href="src/Cooked.MockChain.BlockChain.html#getCurrentReward" class="link">Source</a> <a href="#v:getCurrentReward" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadError:7"></span> <a href="https://hackage.haskell.org/package/-/docs/Cardano-Api-Monad-Error.html#t:MonadError" title="Cardano.Api.Monad.Error">MonadError</a> <a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-92" class="link">Source</a> <a href="#t:MonadError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadError:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwError">throwError</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:throwError" class="selflink">#</a></p><p class="src"><a href="#v:catchError">catchError</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; (<a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a) -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a <a href="#v:catchError" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LtlOp:MonadLtl:8"></span> <a href="Cooked-Ltl.html#t:MonadLtl" title="Cooked.Ltl">MonadLtl</a> modification (<a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin)</span> <a href="src/Cooked.Ltl.html#line-321" class="link">Source</a> <a href="#t:LtlOp" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LtlOp:MonadLtl:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StagedLtl" class="def">StagedLtl</a> modification builtin = <a href="Cooked-Staged.html#t:Staged" title="Cooked.Staged">Staged</a> (<a href="Cooked-Ltl.html#t:LtlOp" title="Cooked.Ltl">LtlOp</a> modification builtin) <a href="src/Cooked.Ltl.html#StagedLtl" class="link">Source</a> <a href="#t:StagedLtl" class="selflink">#</a></p><div class="doc"><p>An AST of builtins wrapped into an <code><a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></code> setting</p></div></div><div class="top"><p class="src"><a id="v:singletonBuiltin" class="def">singletonBuiltin</a> :: builtin a -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a <a href="src/Cooked.Ltl.html#singletonBuiltin" class="link">Source</a> <a href="#v:singletonBuiltin" class="selflink">#</a></p><div class="doc"><p>Builds a singleton instruction in a <code><a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a></code> monad</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Monad" title="Distribution.Compat.Prelude">Monad</a> m =&gt; <a id="t:MonadLtl" class="def">MonadLtl</a> modification m <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#MonadLtl" class="link">Source</a> <a href="#t:MonadLtl" class="selflink">#</a></p><div class="doc"><p>Depicts the ability to modify a computation with an <code><a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></code> formula</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:modifyLtl" class="def">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; m a -&gt; m a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadLtl">Instances</h4><details id="i:MonadLtl" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadLtl:MonadLtl:1"></span> <a href="Cooked-Ltl.html#t:MonadLtl" title="Cooked.Ltl">MonadLtl</a> modification (<a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin)</span> <a href="src/Cooked.Ltl.html#line-321" class="link">Source</a> <a href="#t:MonadLtl" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadLtl:MonadLtl:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-Ltl.html">Cooked.Ltl</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:modifyLtl">modifyLtl</a> :: <a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a> modification -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a -&gt; <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a <a href="src/Cooked.Ltl.html#modifyLtl" class="link">Source</a> <a href="#v:modifyLtl" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ModInterpBuiltin" class="def">ModInterpBuiltin</a> modification builtin m <span class="keyword">where</span> <a href="src/Cooked.Ltl.html#ModInterpBuiltin" class="link">Source</a> <a href="#t:ModInterpBuiltin" class="selflink">#</a></p><div class="doc"><p>Depicts the ability to modify and interpret builtins in a given
 domain. Each builtin can either:</p><ul><li>be interpreted directly through <code>Left</code>, in which case it will not be
   considered as a timestep in a trace.</li><li>be modified and only then interpreted through <code>Right</code>, in which case it
   will be considered as a timestep in a trace.</li></ul></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:modifyAndInterpBuiltin" class="def">modifyAndInterpBuiltin</a> :: builtin a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (m a) ([<a href="Cooked-Ltl.html#t:Requirement" title="Cooked.Ltl">Requirement</a> modification] -&gt; m a) <a href="src/Cooked.Ltl.html#modifyAndInterpBuiltin" class="link">Source</a> <a href="#v:modifyAndInterpBuiltin" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ModInterpBuiltin">Instances</h4><details id="i:ModInterpBuiltin" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ModInterpBuiltin:ModInterpBuiltin:1"></span> <a href="Cooked-Ltl.html#t:ModInterpBuiltin" title="Cooked.Ltl">ModInterpBuiltin</a> <a href="Cooked-MockChain-Staged.html#t:MockChainTweak" title="Cooked.MockChain.Staged">MockChainTweak</a> <a href="Cooked-MockChain-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Staged">MockChainBuiltin</a> <a href="Cooked-MockChain-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Staged">InterpMockChain</a></span> <a href="src/Cooked.MockChain.Staged.html#line-115" class="link">Source</a> <a href="#t:ModInterpBuiltin" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ModInterpBuiltin:ModInterpBuiltin:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Staged.html">Cooked.MockChain.Staged</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:modifyAndInterpBuiltin">modifyAndInterpBuiltin</a> :: <span class="keyword">forall</span> (a :: k). <a href="Cooked-MockChain-Staged.html#t:MockChainBuiltin" title="Cooked.MockChain.Staged">MockChainBuiltin</a> a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> (<a href="Cooked-MockChain-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Staged">InterpMockChain</a> a) ([<a href="Cooked-Ltl.html#t:Requirement" title="Cooked.Ltl">Requirement</a> <a href="Cooked-MockChain-Staged.html#t:MockChainTweak" title="Cooked.MockChain.Staged">MockChainTweak</a>] -&gt; <a href="Cooked-MockChain-Staged.html#t:InterpMockChain" title="Cooked.MockChain.Staged">InterpMockChain</a> a) <a href="src/Cooked.Ltl.html#modifyAndInterpBuiltin" class="link">Source</a> <a href="#v:modifyAndInterpBuiltin" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:interpStagedLtl" class="def">interpStagedLtl</a> <a href="src/Cooked.Ltl.html#interpStagedLtl" class="link">Source</a> <a href="#v:interpStagedLtl" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> modification builtin m. (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:MonadPlus" title="Distribution.Compat.Prelude">MonadPlus</a> m, <a href="Cooked-Ltl.html#t:ModInterpBuiltin" title="Cooked.Ltl">ModInterpBuiltin</a> modification builtin m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <span class="keyword">forall</span> a. <a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a> modification builtin a</td><td class="doc"><p>A staged computation <code><a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></code> compatible</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc"><p>Interpretation of the computation</p></td></tr></table></div><div class="doc"><p>Interprets a <code><a href="Cooked-Ltl.html#t:StagedLtl" title="Cooked.Ltl">StagedLtl</a></code> computation based on an interpretation of
 <code>builtin</code> with respect to possible modifications. This unfolds as follows:</p><ul><li>When a builtin is met, which is directly interpreted, we return the
   associated computation, with no changes to the <code><a href="Cooked-Ltl.html#t:Ltl" title="Cooked.Ltl">Ltl</a></code> state.</li><li>When a builtin is met, which requires a modification, we return the
   modified interpretation, and consume the current modification requirements.</li><li>When a wrapped computation is met, we store the new associated formula, and
   ensure that when the computation ends, the formula is finished.</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>