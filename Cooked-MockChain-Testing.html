<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.MockChain.Testing</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators</span><ul class="links" id="page-menu"><li><a href="src/Cooked.MockChain.Testing.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.MockChain.Testing</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Common interface between HUnit and QuickCheck</a></li><li><a href="#g:2">Extra HUnit assertions</a></li><li><a href="#g:3">Data structure to test mockchain traces</a></li><li><a href="#g:4">Simple test templates</a></li><li><a href="#g:5">Appending elements (in particular requirements) to existing tests</a></li><li><a href="#g:6">Specific properties around failures</a></li><li><a href="#g:7">Specific properties around number of outcomes</a></li><li><a href="#g:8">Specific properties over the journal</a></li><li><a href="#g:9">Specific properties over successes</a></li><li><a href="#g:10">Advanced test templates</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This modules provides primitives to run tests over mockchain executions and
 to provide requirements on the the number and results of these runs.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="#t:IsProp">IsProp</a> prop <span class="keyword">where</span><ul class="subs"><li><a href="#v:testCounterexample">testCounterexample</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; prop -&gt; prop</li><li><a href="#v:testConjoin">testConjoin</a> :: [prop] -&gt; prop</li><li><a href="#v:testDisjoin">testDisjoin</a> :: [prop] -&gt; prop</li><li><a href="#v:testFailure">testFailure</a> :: prop</li><li><a href="#v:testSuccess">testSuccess</a> :: prop</li><li><a href="#v:testFailureMsg">testFailureMsg</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; prop</li></ul></li><li class="src short"><a href="#v:testBool">testBool</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> -&gt; prop</li><li class="src short"><a href="#v:testAll">testAll</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; (a -&gt; prop) -&gt; [a] -&gt; prop</li><li class="src short"><a href="#v:testAny">testAny</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; (a -&gt; prop) -&gt; [a] -&gt; prop</li><li class="src short"><a href="#v:.-61--61-.">(.==.)</a> :: (<a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a) =&gt; a -&gt; a -&gt; prop</li><li class="src short"><a href="#v:.-38--38-.">(.&amp;&amp;.)</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; prop -&gt; prop -&gt; prop</li><li class="src short"><a href="#v:.-124--124-.">(.||.)</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; prop -&gt; prop -&gt; prop</li><li class="src short"><a href="#v:assertionToMaybe">assertionToMaybe</a> :: <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:HUnitFailure" title="Test.Tasty.HUnit">HUnitFailure</a>)</li><li class="src short"><a href="#v:forAll">forAll</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; (a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a>) -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></li><li class="src short"><a href="#v:assertSubset">assertSubset</a> :: (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a) =&gt; [a] -&gt; [a] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a></li><li class="src short"><a href="#v:assertSameSets">assertSameSets</a> :: (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a) =&gt; [a] -&gt; [a] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:FailureProp">FailureProp</a> prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; [<a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a>] -&gt; <a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> -&gt; prop</li><li class="src short"><span class="keyword">type</span> <a href="#t:SuccessProp">SuccessProp</a> a prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; [<a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a>] -&gt; a -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> -&gt; prop</li><li class="src short"><span class="keyword">type</span> <a href="#t:SizeProp">SizeProp</a> prop = <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; prop</li><li class="src short"><span class="keyword">type</span> <a href="#t:JournalProp">JournalProp</a> prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; [<a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a>] -&gt; prop</li><li class="src short"><span class="keyword">type</span> <a href="#t:StateProp">StateProp</a> prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> -&gt; prop</li><li class="src short"><span class="keyword">data</span> <a href="#t:Test">Test</a> a prop = <a href="#v:Test">Test</a> {<ul class="subs"><li><a href="#v:testTrace">testTrace</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a</li><li><a href="#v:testInitDist">testInitDist</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></li><li><a href="#v:testSizeProp">testSizeProp</a> :: <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop</li><li><a href="#v:testFailureProp">testFailureProp</a> :: <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop</li><li><a href="#v:testSuccessProp">testSuccessProp</a> :: <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop</li><li><a href="#v:testPrettyOpts">testPrettyOpts</a> :: <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a></li></ul>}</li><li class="src short"><a href="#v:testToProp">testToProp</a> :: (<a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a) =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; prop</li><li class="src short"><a href="#v:testCooked">testCooked</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-Providers.html#t:TestTree" title="Test.Tasty.Providers">TestTree</a></li><li class="src short"><a href="#v:testCookedQC">testCookedQC</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-Providers.html#t:TestTree" title="Test.Tasty.Providers">TestTree</a></li><li class="src short"><a href="#v:mustSucceedTest">mustSucceedTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:mustFailTest">mustFailTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withInitDist">withInitDist</a> :: <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withPrettyOpts">withPrettyOpts</a> :: <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withJournalProp">withJournalProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:JournalProp" title="Cooked.MockChain.Testing">JournalProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withStateProp">withStateProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:StateProp" title="Cooked.MockChain.Testing">StateProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withSuccessProp">withSuccessProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withResultProp">withResultProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; (a -&gt; prop) -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withSizeProp">withSizeProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withFailureProp">withFailureProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:withErrorProp">withErrorProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; (<a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> -&gt; prop) -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:isPhase1Failure">isPhase1Failure</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop</li><li class="src short"><a href="#v:isPhase2Failure">isPhase2Failure</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop</li><li class="src short"><a href="#v:isPhase1FailureWithMsg">isPhase1FailureWithMsg</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop</li><li class="src short"><a href="#v:isPhase2FailureWithMsg">isPhase2FailureWithMsg</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop</li><li class="src short"><a href="#v:isOfSize">isOfSize</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop</li><li class="src short"><a href="#v:isAtLeastOfSize">isAtLeastOfSize</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop</li><li class="src short"><a href="#v:isAtMostOfSize">isAtMostOfSize</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop</li><li class="src short"><a href="#v:happened">happened</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:JournalProp" title="Cooked.MockChain.Testing">JournalProp</a> prop</li><li class="src short"><a href="#v:didNotHappen">didNotHappen</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:JournalProp" title="Cooked.MockChain.Testing">JournalProp</a> prop</li><li class="src short"><a href="#v:isInWallets">isInWallets</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; [(<a href="Cooked-Wallet.html#t:Wallet" title="Cooked.Wallet">Wallet</a>, [(<a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:AssetClass" title="PlutusLedgerApi.V1.Value">AssetClass</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a>)])] -&gt; <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop</li><li class="src short"><a href="#v:isInWallet">isInWallet</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; (<a href="Cooked-Wallet.html#t:Wallet" title="Cooked.Wallet">Wallet</a>, <a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:AssetClass" title="PlutusLedgerApi.V1.Value">AssetClass</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a>) -&gt; <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop</li><li class="src short"><a href="#v:mustFailInPhase2Test">mustFailInPhase2Test</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:mustFailInPhase2WithMsgTest">mustFailInPhase2WithMsgTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:mustFailInPhase1Test">mustFailInPhase1Test</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:mustFailInPhase1WithMsgTest">mustFailInPhase1WithMsgTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:mustSucceedWithSizeTest">mustSucceedWithSizeTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li><li class="src short"><a href="#v:mustFailWithSizeTest">mustFailWithSizeTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Common interface between HUnit and QuickCheck</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:IsProp" class="def">IsProp</a> prop <span class="keyword">where</span> <a href="src/Cooked.MockChain.Testing.html#IsProp" class="link">Source</a> <a href="#t:IsProp" class="selflink">#</a></p><div class="doc"><p><code><a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a></code> is a common interface for HUnit and QuickCheck tests. It abstracts
 uses of <code><a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a></code> and <code><a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></code> for <code>(IsProp prop) =&gt; prop</code>, then
 provide instances for both <code>HU.Asserton</code> and <code>QC.Property</code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Cooked-MockChain-Testing.html#v:testCounterexample" title="Cooked.MockChain.Testing">testCounterexample</a>, <a href="Cooked-MockChain-Testing.html#v:testConjoin" title="Cooked.MockChain.Testing">testConjoin</a>, <a href="Cooked-MockChain-Testing.html#v:testDisjoin" title="Cooked.MockChain.Testing">testDisjoin</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:testCounterexample" class="def">testCounterexample</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; prop -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testCounterexample" class="link">Source</a> <a href="#v:testCounterexample" class="selflink">#</a></p><div class="doc"><p>Displays the string to the user in case of failure</p></div><p class="src"><a id="v:testConjoin" class="def">testConjoin</a> :: [prop] -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testConjoin" class="link">Source</a> <a href="#v:testConjoin" class="selflink">#</a></p><div class="doc"><p>Conjunction of a number of results</p></div><p class="src"><a id="v:testDisjoin" class="def">testDisjoin</a> :: [prop] -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testDisjoin" class="link">Source</a> <a href="#v:testDisjoin" class="selflink">#</a></p><div class="doc"><p>Disjunction of a number of results</p></div><p class="src"><a id="v:testFailure" class="def">testFailure</a> :: prop <a href="src/Cooked.MockChain.Testing.html#testFailure" class="link">Source</a> <a href="#v:testFailure" class="selflink">#</a></p><div class="doc"><p>Flags a failure</p></div><p class="src"><a id="v:testSuccess" class="def">testSuccess</a> :: prop <a href="src/Cooked.MockChain.Testing.html#testSuccess" class="link">Source</a> <a href="#v:testSuccess" class="selflink">#</a></p><div class="doc"><p>Flags a success</p></div><p class="src"><a id="v:testFailureMsg" class="def">testFailureMsg</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testFailureMsg" class="link">Source</a> <a href="#v:testFailureMsg" class="selflink">#</a></p><div class="doc"><p>Flags a failure with a message</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsProp">Instances</h4><details id="i:IsProp" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsProp:IsProp:1"></span> <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></span> <a href="src/Cooked.MockChain.Testing.html#line-109" class="link">Source</a> <a href="#t:IsProp" class="selflink">#</a></td><td class="doc"><p>QuickCheck instance of <code><a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a></code></p></td></tr><tr><td colspan="2"><details id="i:ic:IsProp:IsProp:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Testing.html">Cooked.MockChain.Testing</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testCounterexample">testCounterexample</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#testCounterexample" class="link">Source</a> <a href="#v:testCounterexample" class="selflink">#</a></p><p class="src"><a href="#v:testConjoin">testConjoin</a> :: [<a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a>] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#testConjoin" class="link">Source</a> <a href="#v:testConjoin" class="selflink">#</a></p><p class="src"><a href="#v:testDisjoin">testDisjoin</a> :: [<a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a>] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#testDisjoin" class="link">Source</a> <a href="#v:testDisjoin" class="selflink">#</a></p><p class="src"><a href="#v:testFailure">testFailure</a> :: <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#testFailure" class="link">Source</a> <a href="#v:testFailure" class="selflink">#</a></p><p class="src"><a href="#v:testSuccess">testSuccess</a> :: <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#testSuccess" class="link">Source</a> <a href="#v:testSuccess" class="selflink">#</a></p><p class="src"><a href="#v:testFailureMsg">testFailureMsg</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#testFailureMsg" class="link">Source</a> <a href="#v:testFailureMsg" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsProp:IsProp:2"></span> <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a></span> <a href="src/Cooked.MockChain.Testing.html#line-88" class="link">Source</a> <a href="#t:IsProp" class="selflink">#</a></td><td class="doc"><p>HUnit instance of <code><a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a></code></p></td></tr><tr><td colspan="2"><details id="i:ic:IsProp:IsProp:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-MockChain-Testing.html">Cooked.MockChain.Testing</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testCounterexample">testCounterexample</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#testCounterexample" class="link">Source</a> <a href="#v:testCounterexample" class="selflink">#</a></p><p class="src"><a href="#v:testConjoin">testConjoin</a> :: [<a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a>] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#testConjoin" class="link">Source</a> <a href="#v:testConjoin" class="selflink">#</a></p><p class="src"><a href="#v:testDisjoin">testDisjoin</a> :: [<a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a>] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#testDisjoin" class="link">Source</a> <a href="#v:testDisjoin" class="selflink">#</a></p><p class="src"><a href="#v:testFailure">testFailure</a> :: <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#testFailure" class="link">Source</a> <a href="#v:testFailure" class="selflink">#</a></p><p class="src"><a href="#v:testSuccess">testSuccess</a> :: <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#testSuccess" class="link">Source</a> <a href="#v:testSuccess" class="selflink">#</a></p><p class="src"><a href="#v:testFailureMsg">testFailureMsg</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#testFailureMsg" class="link">Source</a> <a href="#v:testFailureMsg" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:testBool" class="def">testBool</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a> -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testBool" class="link">Source</a> <a href="#v:testBool" class="selflink">#</a></p><div class="doc"><p>Turns a boolean into a <code>prop</code></p></div></div><div class="top"><p class="src"><a id="v:testAll" class="def">testAll</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; (a -&gt; prop) -&gt; [a] -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testAll" class="link">Source</a> <a href="#v:testAll" class="selflink">#</a></p><div class="doc"><p>Ensures all elements of a list satisfy a given <code>prop</code></p></div></div><div class="top"><p class="src"><a id="v:testAny" class="def">testAny</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; (a -&gt; prop) -&gt; [a] -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testAny" class="link">Source</a> <a href="#v:testAny" class="selflink">#</a></p><div class="doc"><p>Ensures at least one element of a list satisfy a given <code>prop</code></p></div></div><div class="top"><p class="src"><a id="v:.-61--61-." class="def">(.==.)</a> :: (<a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a) =&gt; a -&gt; a -&gt; prop <span class="fixity">infix 4</span><span class="rightedge"></span> <a href="src/Cooked.MockChain.Testing.html#.%3D%3D." class="link">Source</a> <a href="#v:.-61--61-." class="selflink">#</a></p><div class="doc"><p>Lifts an equality test to a <code>prop</code></p></div></div><div class="top"><p class="src"><a id="v:.-38--38-." class="def">(.&amp;&amp;.)</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; prop -&gt; prop -&gt; prop <span class="fixity">infixr 3</span><span class="rightedge"></span> <a href="src/Cooked.MockChain.Testing.html#.%26%26." class="link">Source</a> <a href="#v:.-38--38-." class="selflink">#</a></p><div class="doc"><p>Conjunction of two <code>prop</code>s</p></div></div><div class="top"><p class="src"><a id="v:.-124--124-." class="def">(.||.)</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; prop -&gt; prop -&gt; prop <span class="fixity">infixr 2</span><span class="rightedge"></span> <a href="src/Cooked.MockChain.Testing.html#.%7C%7C." class="link">Source</a> <a href="#v:.-124--124-." class="selflink">#</a></p><div class="doc"><p>Disjunction of two <code>prop</code>s</p></div></div><div class="top"><p class="src"><a id="v:assertionToMaybe" class="def">assertionToMaybe</a> :: <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:HUnitFailure" title="Test.Tasty.HUnit">HUnitFailure</a>) <a href="src/Cooked.MockChain.Testing.html#assertionToMaybe" class="link">Source</a> <a href="#v:assertionToMaybe" class="selflink">#</a></p><div class="doc"><p>Catches a HUnit test failure, if the test fails.</p></div></div><div class="top"><p class="src"><a id="v:forAll" class="def">forAll</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; (a -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a>) -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Cooked.MockChain.Testing.html#forAll" class="link">Source</a> <a href="#v:forAll" class="selflink">#</a></p><div class="doc"><p>Here we provide our own universsal quantifier instead of <code><a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#v:forAll" title="Test.QuickCheck">forAll</a></code>, so we
  can monomorphize it to returning a <code><a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></code></p></div></div><a href="#g:2" id="g:2"><h1>Extra HUnit assertions</h1></a><div class="top"><p class="src"><a id="v:assertSubset" class="def">assertSubset</a> :: (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a) =&gt; [a] -&gt; [a] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#assertSubset" class="link">Source</a> <a href="#v:assertSubset" class="selflink">#</a></p><div class="doc"><p>Asserts whether a set is a subset of another one, both given as lists.</p></div></div><div class="top"><p class="src"><a id="v:assertSameSets" class="def">assertSameSets</a> :: (<a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Eq" title="Distribution.Compat.Prelude">Eq</a> a) =&gt; [a] -&gt; [a] -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> <a href="src/Cooked.MockChain.Testing.html#assertSameSets" class="link">Source</a> <a href="#v:assertSameSets" class="selflink">#</a></p><div class="doc"><p>Asserts whether 2 sets are equal, both given as lists.</p></div></div><a href="#g:3" id="g:3"><h1>Data structure to test mockchain traces</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FailureProp" class="def">FailureProp</a> prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; [<a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a>] -&gt; <a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> -&gt; prop <a href="src/Cooked.MockChain.Testing.html#FailureProp" class="link">Source</a> <a href="#t:FailureProp" class="selflink">#</a></p><div class="doc"><p>Type of properties over failures</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SuccessProp" class="def">SuccessProp</a> a prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; [<a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a>] -&gt; a -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> -&gt; prop <a href="src/Cooked.MockChain.Testing.html#SuccessProp" class="link">Source</a> <a href="#t:SuccessProp" class="selflink">#</a></p><div class="doc"><p>Type of properties over successes</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SizeProp" class="def">SizeProp</a> prop = <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; prop <a href="src/Cooked.MockChain.Testing.html#SizeProp" class="link">Source</a> <a href="#t:SizeProp" class="selflink">#</a></p><div class="doc"><p>Type of properties over the number of run outcomes. This does not
 necessitate a <code><a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a></code> as parameter as an <code><a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a></code> does not
 contain anything significant that can be pretty printed.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:JournalProp" class="def">JournalProp</a> prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; [<a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a>] -&gt; prop <a href="src/Cooked.MockChain.Testing.html#JournalProp" class="link">Source</a> <a href="#t:JournalProp" class="selflink">#</a></p><div class="doc"><p>Type of properties over the mockchain journal</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StateProp" class="def">StateProp</a> prop = <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; <a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a> -&gt; prop <a href="src/Cooked.MockChain.Testing.html#StateProp" class="link">Source</a> <a href="#t:StateProp" class="selflink">#</a></p><div class="doc"><p>Type of properties over the <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Test" class="def">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#Test" class="link">Source</a> <a href="#t:Test" class="selflink">#</a></p><div class="doc"><p>Data structure to test a mockchain trace. <code>a</code> is the return typed of the
 tested trace, <code>prop</code> is the domain in which the properties live. This is not
 enforced here, but it will often be assumed that <code>prop</code> satisfies <code><a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Test" class="def">Test</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:testTrace" class="def">testTrace</a> :: <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a</dfn><div class="doc"><p>The mockchain trace to test, which returns a result of type a</p></div></li><li><dfn class="src"><a id="v:testInitDist" class="def">testInitDist</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></dfn><div class="doc"><p>The initial distribution from which the trace should be run</p></div></li><li><dfn class="src"><a id="v:testSizeProp" class="def">testSizeProp</a> :: <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop</dfn><div class="doc"><p>The requirement on the number of results, as <code><a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a></code> is a
 <code><a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:MonadPlus" title="Distribution.Compat.Prelude">MonadPlus</a></code></p></div></li><li><dfn class="src"><a id="v:testFailureProp" class="def">testFailureProp</a> :: <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop</dfn><div class="doc"><p>The property that should hold in case of failure over the resulting
 error and the logs emitted during the run</p></div></li><li><dfn class="src"><a id="v:testSuccessProp" class="def">testSuccessProp</a> :: <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop</dfn><div class="doc"><p>The property that should hold in case of success over the returned
 result and the final state of the trace, as well as the logs</p></div></li><li><dfn class="src"><a id="v:testPrettyOpts" class="def">testPrettyOpts</a> :: <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a></dfn><div class="doc"><p>The printing option that should be use to render test results</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:testToProp" class="def">testToProp</a> :: (<a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a) =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; prop <a href="src/Cooked.MockChain.Testing.html#testToProp" class="link">Source</a> <a href="#v:testToProp" class="selflink">#</a></p><div class="doc"><p>This takes a <code><a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a></code> and transforms it into an actual test case in
 prop. This is the main function justifying the existence of <code><a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a></code>. This runs
 the traces, ensures there is the right number of outcomes and, depending on
 the nature of these outcomes, either calls <code><a href="Cooked-MockChain-Testing.html#v:testFailureProp" title="Cooked.MockChain.Testing">testFailureProp</a></code> or
 <code><a href="Cooked-MockChain-Testing.html#v:testSuccessProp" title="Cooked.MockChain.Testing">testSuccessProp</a></code>. It also uses the aliases emitted during the mockchain run
 to pretty print messages when applicable.</p></div></div><div class="top"><p class="src"><a id="v:testCooked" class="def">testCooked</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-Providers.html#t:TestTree" title="Test.Tasty.Providers">TestTree</a> <a href="src/Cooked.MockChain.Testing.html#testCooked" class="link">Source</a> <a href="#v:testCooked" class="selflink">#</a></p><div class="doc"><p>A convenience helper when using <code><a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#t:Assertion" title="Test.Tasty.HUnit">Assertion</a></code> which allows to replace
 <code><a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-HUnit.html#v:testCase" title="Test.Tasty.HUnit">testCase</a></code> with <code><a href="Cooked-MockChain-Testing.html#v:testCooked" title="Cooked.MockChain.Testing">testCooked</a></code> and thus avoid the use of <code><a href="Cooked-MockChain-Testing.html#v:testToProp" title="Cooked.MockChain.Testing">testToProp</a></code>.
 Sadly we cannot generalise it with type classes on <code>prop</code> to work for
 QuichCheck at GHC will never be able to instantiate <code>prop</code>.</p></div></div><div class="top"><p class="src"><a id="v:testCookedQC" class="def">testCookedQC</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Show" title="Distribution.Compat.Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a <a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Test-Tasty-Providers.html#t:TestTree" title="Test.Tasty.Providers">TestTree</a> <a href="src/Cooked.MockChain.Testing.html#testCookedQC" class="link">Source</a> <a href="#v:testCookedQC" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-MockChain-Testing.html#v:testCooked" title="Cooked.MockChain.Testing">testCooked</a></code>, but for <code><a href="https://hackage.haskell.org/package/-/docs/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></code></p></div></div><a href="#g:4" id="g:4"><h1>Simple test templates</h1></a><div class="top"><p class="src"><a id="v:mustSucceedTest" class="def">mustSucceedTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustSucceedTest" class="link">Source</a> <a href="#v:mustSucceedTest" class="selflink">#</a></p><div class="doc"><p>A test template which expects a success from a trace</p></div></div><div class="top"><p class="src"><a id="v:mustFailTest" class="def">mustFailTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustFailTest" class="link">Source</a> <a href="#v:mustFailTest" class="selflink">#</a></p><div class="doc"><p>A test template which expects a failure from a trace</p></div></div><a href="#g:5" id="g:5"><h1>Appending elements (in particular requirements) to existing tests</h1></a><div class="top"><p class="src"><a id="v:withInitDist" class="def">withInitDist</a> :: <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withInitDist" class="link">Source</a> <a href="#v:withInitDist" class="selflink">#</a></p><div class="doc"><p>Gives an initial distribution from which the trace will be run</p></div></div><div class="top"><p class="src"><a id="v:withPrettyOpts" class="def">withPrettyOpts</a> :: <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-Pretty-Options.html#t:PrettyCookedOpts" title="Cooked.Pretty.Options">PrettyCookedOpts</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withPrettyOpts" class="link">Source</a> <a href="#v:withPrettyOpts" class="selflink">#</a></p><div class="doc"><p>Gives some pretty options to render test messages</p></div></div><div class="top"><p class="src"><a id="v:withJournalProp" class="def">withJournalProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:JournalProp" title="Cooked.MockChain.Testing">JournalProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withJournalProp" class="link">Source</a> <a href="#v:withJournalProp" class="selflink">#</a></p><div class="doc"><p>Appends a requirements over the emitted log, which will need to be satisfied
 both in case of success or failure of the run.</p></div></div><div class="top"><p class="src"><a id="v:withStateProp" class="def">withStateProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:StateProp" title="Cooked.MockChain.Testing">StateProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withStateProp" class="link">Source</a> <a href="#v:withStateProp" class="selflink">#</a></p><div class="doc"><p>Appends a requirements over the resulting <code><a href="Cooked-MockChain-UtxoState.html#t:UtxoState" title="Cooked.MockChain.UtxoState">UtxoState</a></code>, which will need to
 be satisfied both in case of success or failure of the run.</p></div></div><div class="top"><p class="src"><a id="v:withSuccessProp" class="def">withSuccessProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withSuccessProp" class="link">Source</a> <a href="#v:withSuccessProp" class="selflink">#</a></p><div class="doc"><p>Appends a requirement over the resulting value and state of the mockchain
 run which will need to be satisfied if the run is successful</p></div></div><div class="top"><p class="src"><a id="v:withResultProp" class="def">withResultProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; (a -&gt; prop) -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withResultProp" class="link">Source</a> <a href="#v:withResultProp" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-MockChain-Testing.html#v:withSuccessProp" title="Cooked.MockChain.Testing">withSuccessProp</a></code> but only considers the returning value of the run</p></div></div><div class="top"><p class="src"><a id="v:withSizeProp" class="def">withSizeProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withSizeProp" class="link">Source</a> <a href="#v:withSizeProp" class="selflink">#</a></p><div class="doc"><p>Appends a requirement over the resulting number of outcomes of the run</p></div></div><div class="top"><p class="src"><a id="v:withFailureProp" class="def">withFailureProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withFailureProp" class="link">Source</a> <a href="#v:withFailureProp" class="selflink">#</a></p><div class="doc"><p>Appends a requirement over the resulting value and state of the mockchain
 run which will need to be satisfied if the run is successful</p></div></div><div class="top"><p class="src"><a id="v:withErrorProp" class="def">withErrorProp</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop -&gt; (<a href="Cooked-MockChain-BlockChain.html#t:MockChainError" title="Cooked.MockChain.BlockChain">MockChainError</a> -&gt; prop) -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#withErrorProp" class="link">Source</a> <a href="#v:withErrorProp" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-MockChain-Testing.html#v:withFailureProp" title="Cooked.MockChain.Testing">withFailureProp</a></code> but only considers the returning error of the run</p></div></div><a href="#g:6" id="g:6"><h1>Specific properties around failures</h1></a><div class="top"><p class="src"><a id="v:isPhase1Failure" class="def">isPhase1Failure</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isPhase1Failure" class="link">Source</a> <a href="#v:isPhase1Failure" class="selflink">#</a></p><div class="doc"><p>A property to ensure a phase 1 failure</p></div></div><div class="top"><p class="src"><a id="v:isPhase2Failure" class="def">isPhase2Failure</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isPhase2Failure" class="link">Source</a> <a href="#v:isPhase2Failure" class="selflink">#</a></p><div class="doc"><p>A property to ensure a phase 2 failure</p></div></div><div class="top"><p class="src"><a id="v:isPhase1FailureWithMsg" class="def">isPhase1FailureWithMsg</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isPhase1FailureWithMsg" class="link">Source</a> <a href="#v:isPhase1FailureWithMsg" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-MockChain-Testing.html#v:isPhase1Failure" title="Cooked.MockChain.Testing">isPhase1Failure</a></code> with an added predicate on the text error</p></div></div><div class="top"><p class="src"><a id="v:isPhase2FailureWithMsg" class="def">isPhase2FailureWithMsg</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:FailureProp" title="Cooked.MockChain.Testing">FailureProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isPhase2FailureWithMsg" class="link">Source</a> <a href="#v:isPhase2FailureWithMsg" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cooked-MockChain-Testing.html#v:isPhase2Failure" title="Cooked.MockChain.Testing">isPhase2Failure</a></code> with an added predicate over the text error</p></div></div><a href="#g:7" id="g:7"><h1>Specific properties around number of outcomes</h1></a><div class="top"><p class="src"><a id="v:isOfSize" class="def">isOfSize</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isOfSize" class="link">Source</a> <a href="#v:isOfSize" class="selflink">#</a></p><div class="doc"><p>Ensures the run has an exact given number of outcomes</p></div></div><div class="top"><p class="src"><a id="v:isAtLeastOfSize" class="def">isAtLeastOfSize</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isAtLeastOfSize" class="link">Source</a> <a href="#v:isAtLeastOfSize" class="selflink">#</a></p><div class="doc"><p>Ensures the run has a minimal number of outcomes</p></div></div><div class="top"><p class="src"><a id="v:isAtMostOfSize" class="def">isAtMostOfSize</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:SizeProp" title="Cooked.MockChain.Testing">SizeProp</a> prop <a href="src/Cooked.MockChain.Testing.html#isAtMostOfSize" class="link">Source</a> <a href="#v:isAtMostOfSize" class="selflink">#</a></p><div class="doc"><p>Ensures the run has a minimal number of outcomes</p></div></div><a href="#g:8" id="g:8"><h1>Specific properties over the journal</h1></a><div class="top"><p class="src"><a id="v:happened" class="def">happened</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:JournalProp" title="Cooked.MockChain.Testing">JournalProp</a> prop <a href="src/Cooked.MockChain.Testing.html#happened" class="link">Source</a> <a href="#v:happened" class="selflink">#</a></p><div class="doc"><p>Ensures a certain event has been emitted. This uses the constructor's name
 of the <code><a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a></code> by relying on <code><a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#v:show" title="Distribution.Compat.Prelude">show</a></code> being lazy.</p></div></div><div class="top"><p class="src"><a id="v:didNotHappen" class="def">didNotHappen</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Testing.html#t:JournalProp" title="Cooked.MockChain.Testing">JournalProp</a> prop <a href="src/Cooked.MockChain.Testing.html#didNotHappen" class="link">Source</a> <a href="#v:didNotHappen" class="selflink">#</a></p><div class="doc"><p>Ensures a certain event has not been emitted. This uses the constructor's
 name of the <code><a href="Cooked-MockChain-BlockChain.html#t:MockChainLogEntry" title="Cooked.MockChain.BlockChain">MockChainLogEntry</a></code> by relying on <code><a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#v:show" title="Distribution.Compat.Prelude">show</a></code> being lazy.</p></div></div><a href="#g:9" id="g:9"><h1>Specific properties over successes</h1></a><div class="top"><p class="src"><a id="v:isInWallets" class="def">isInWallets</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; [(<a href="Cooked-Wallet.html#t:Wallet" title="Cooked.Wallet">Wallet</a>, [(<a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:AssetClass" title="PlutusLedgerApi.V1.Value">AssetClass</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Bool" title="Distribution.Compat.Prelude">Bool</a>)])] -&gt; <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop <a href="src/Cooked.MockChain.Testing.html#isInWallets" class="link">Source</a> <a href="#v:isInWallets" class="selflink">#</a></p><div class="doc"><p>Ensures that the given wallets satisfy certain amount requirements over a
 list of given asset classes in the end of the run</p></div></div><div class="top"><p class="src"><a id="v:isInWallet" class="def">isInWallet</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; (<a href="Cooked-Wallet.html#t:Wallet" title="Cooked.Wallet">Wallet</a>, <a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:AssetClass" title="PlutusLedgerApi.V1.Value">AssetClass</a>, <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a>) -&gt; <a href="Cooked-MockChain-Testing.html#t:SuccessProp" title="Cooked.MockChain.Testing">SuccessProp</a> a prop <a href="src/Cooked.MockChain.Testing.html#isInWallet" class="link">Source</a> <a href="#v:isInWallet" class="selflink">#</a></p><div class="doc"><p>Ensures that a given wallet possesses exactly a certain amount of a given
 asset class in the end of the run</p></div></div><a href="#g:10" id="g:10"><h1>Advanced test templates</h1></a><div class="top"><p class="src"><a id="v:mustFailInPhase2Test" class="def">mustFailInPhase2Test</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustFailInPhase2Test" class="link">Source</a> <a href="#v:mustFailInPhase2Test" class="selflink">#</a></p><div class="doc"><p>A test template which expects a Phase 2 failure</p></div></div><div class="top"><p class="src"><a id="v:mustFailInPhase2WithMsgTest" class="def">mustFailInPhase2WithMsgTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustFailInPhase2WithMsgTest" class="link">Source</a> <a href="#v:mustFailInPhase2WithMsgTest" class="selflink">#</a></p><div class="doc"><p>A test template which expects a specific phase 2 error message</p></div></div><div class="top"><p class="src"><a id="v:mustFailInPhase1Test" class="def">mustFailInPhase1Test</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustFailInPhase1Test" class="link">Source</a> <a href="#v:mustFailInPhase1Test" class="selflink">#</a></p><div class="doc"><p>A test template which expects a Phase 1 failure</p></div></div><div class="top"><p class="src"><a id="v:mustFailInPhase1WithMsgTest" class="def">mustFailInPhase1WithMsgTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:String" title="Distribution.Compat.Prelude">String</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustFailInPhase1WithMsgTest" class="link">Source</a> <a href="#v:mustFailInPhase1WithMsgTest" class="selflink">#</a></p><div class="doc"><p>A test template which expects a specific phase 1 error message</p></div></div><div class="top"><p class="src"><a id="v:mustSucceedWithSizeTest" class="def">mustSucceedWithSizeTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustSucceedWithSizeTest" class="link">Source</a> <a href="#v:mustSucceedWithSizeTest" class="selflink">#</a></p><div class="doc"><p>A test template which expects a certain number of successful outcomes</p></div></div><div class="top"><p class="src"><a id="v:mustFailWithSizeTest" class="def">mustFailWithSizeTest</a> :: <a href="Cooked-MockChain-Testing.html#t:IsProp" title="Cooked.MockChain.Testing">IsProp</a> prop =&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> -&gt; <a href="Cooked-MockChain-Staged.html#t:StagedMockChain" title="Cooked.MockChain.Staged">StagedMockChain</a> a -&gt; <a href="Cooked-MockChain-Testing.html#t:Test" title="Cooked.MockChain.Testing">Test</a> a prop <a href="src/Cooked.MockChain.Testing.html#mustFailWithSizeTest" class="link">Source</a> <a href="#v:mustFailWithSizeTest" class="selflink">#</a></p><div class="doc"><p>A test template which expects a certain number of unsuccessful outcomes</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>