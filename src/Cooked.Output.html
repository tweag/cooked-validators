<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | This module provide abstractions around the notion of outputs. The idea is</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- to use types to carry additional information on which data is carried by</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- various kinds of concrete outputs used in cooked specifically or in Plutus as</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- a whole, such as @TxSkelOut@ or @TxOut@.</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cooked.Output</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier">IsAbstractOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier">OwnerType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier">DatumType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier">ValueType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier">ReferenceScriptType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier">outputOwnerL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier">outputStakingCredentialL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier">outputDatumL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier">outputValueL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier">outputReferenceScriptL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier">IsTxInfoOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier">outputAddress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier">outputOutputDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputValue"><span class="hs-identifier">outputValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier">outputReferenceScriptHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputTxOut"><span class="hs-identifier">outputTxOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier">toOutputWithReferenceScriptHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier">isOutputWithoutDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier">isOutputWithInlineDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier">isOutputWithDatumHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier">isOutputWithInlineDatumOfType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isScriptOutputFrom"><span class="hs-identifier">isScriptOutputFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isPKOutputFrom"><span class="hs-identifier">isPKOutputFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier">isOnlyAdaOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier">fromAbstractOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isReferenceScriptOutputFrom"><span class="hs-identifier">isReferenceScriptOutputFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isStakingCredentialOutputFrom"><span class="hs-identifier">isStakingCredentialOutputFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isEmptyStakingCredentialOutput"><span class="hs-identifier">isEmptyStakingCredentialOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isPKOutput"><span class="hs-identifier">isPKOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isScriptOutput"><span class="hs-identifier">isScriptOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToCredential.html"><span class="hs-identifier">Cooked.Conversion.ToCredential</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToOutputDatum.html"><span class="hs-identifier">Cooked.Conversion.ToOutputDatum</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToScriptHash.html"><span class="hs-identifier">Cooked.Conversion.ToScriptHash</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToValue.html"><span class="hs-identifier">Cooked.Conversion.ToValue</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Optics.Core</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.Script.Utils.Ada</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutus.Script.Utils.Value</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V2.Tx</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Api</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V3</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Api</span></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-comment">-- | A generalisation of 'Api.TxOut': With the four type families, we can lift</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- some information about</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- - who owns the output (a public key, a script...?)</span><span>
</span><span id="line-54"></span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- - what kind of datum is there (do we have an inline datum, a datum hash,</span><span>
</span><span id="line-56"></span><span class="hs-comment">--   nothing...?)</span><span>
</span><span id="line-57"></span><span class="hs-comment">--</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- - what kind of value does the output hold (pure Ada ...?)</span><span>
</span><span id="line-59"></span><span class="hs-comment">--</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- - what information do we have on the reference script (only a hash, a</span><span>
</span><span id="line-61"></span><span class="hs-comment">--   complete script, a typed validator...?)</span><span>
</span><span id="line-62"></span><span class="hs-comment">--</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- to the type level.</span><span>
</span><span id="line-64"></span><span class="hs-keyword">class</span><span> </span><span id="IsAbstractOutput"><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-var">IsAbstractOutput</span></a></span></span><span> </span><span id="local-6989586621679697887"><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="OwnerType"><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-var">OwnerType</span></a></span></span><span> </span><span id="local-6989586621679697887"><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatumType"><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-var">DatumType</span></a></span></span><span> </span><span id="local-6989586621679697887"><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ValueType"><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-var">ValueType</span></a></span></span><span> </span><span id="local-6989586621679697887"><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ReferenceScriptType"><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-var">ReferenceScriptType</span></a></span></span><span> </span><span id="local-6989586621679697887"><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-69"></span><span>  </span><span id="outputOwnerL"><span class="annot"><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-type">outputOwnerL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>  </span><span id="outputStakingCredentialL"><span class="annot"><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-type">outputStakingCredentialL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.StakingCredential</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>  </span><span id="outputDatumL"><span class="annot"><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-type">outputDatumL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span id="outputValueL"><span class="annot"><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-type">outputValueL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>  </span><span id="outputReferenceScriptL"><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-type">outputReferenceScriptL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697887"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | An output that can be translated into its script-perspective (as seen on</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- the 'TxInfo') representation</span><span>
</span><span id="line-77"></span><span class="hs-keyword">type</span><span> </span><span id="IsTxInfoOutput"><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-var">IsTxInfoOutput</span></a></span></span><span> </span><span id="local-6989586621679698080"><span class="annot"><a href="#local-6989586621679698080"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698080"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><a href="Cooked.Conversion.ToCredential.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698080"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><a href="Cooked.Conversion.ToOutputDatum.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698080"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><a href="Cooked.Conversion.ToValue.html#ToValue"><span class="hs-identifier hs-type">ToValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698080"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="Cooked.Conversion.ToScriptHash.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698080"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679697868"><span class="annot"><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-type">outputAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697868"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToCredential.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697868"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679697868"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Address</span></span></span><span>
</span><span id="line-86"></span><span id="outputAddress"><span class="annot"><span class="annottext">outputAddress :: forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var hs-var">outputAddress</span></a></span></span><span> </span><span id="local-6989586621679698089"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698089"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Credential -&gt; Maybe StakingCredential -&gt; Address
</span><span class="hs-identifier hs-var">Api.Address</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OwnerType o -&gt; Credential
forall a. ToCredential a =&gt; a -&gt; Credential
</span><a href="Cooked.Conversion.ToCredential.html#toCredential"><span class="hs-identifier hs-var">toCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698089"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">o -&gt; Optic' A_Lens NoIx o (OwnerType o) -&gt; OwnerType o
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (OwnerType o)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698089"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">o
-&gt; Optic' A_Lens NoIx o (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span id="local-6989586621679697889"><span class="annot"><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-type">outputOutputDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697889"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToOutputDatum.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697889"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679697889"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.OutputDatum</span></span></span><span>
</span><span id="line-89"></span><span id="outputOutputDatum"><span class="annot"><span class="annottext">outputOutputDatum :: forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var hs-var">outputOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumType o -&gt; OutputDatum
forall a. ToOutputDatum a =&gt; a -&gt; OutputDatum
</span><a href="Cooked.Conversion.ToOutputDatum.html#toOutputDatum"><span class="hs-identifier hs-var">toOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumType o -&gt; OutputDatum)
-&gt; (o -&gt; DatumType o) -&gt; o -&gt; OutputDatum
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Optic' A_Lens NoIx o (DatumType o) -&gt; DatumType o
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (DatumType o)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span id="local-6989586621679697898"><span class="annot"><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-type">outputValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697898"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToValue.html#ToValue"><span class="hs-identifier hs-type">ToValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697898"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679697898"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Value</span></span></span><span>
</span><span id="line-92"></span><span id="outputValue"><span class="annot"><span class="annottext">outputValue :: forall o. (IsAbstractOutput o, ToValue (ValueType o)) =&gt; o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var hs-var">outputValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValueType o -&gt; Value
forall a. ToValue a =&gt; a -&gt; Value
</span><a href="Cooked.Conversion.ToValue.html#toValue"><span class="hs-identifier hs-var">toValue</span></a></span><span> </span><span class="annot"><span class="annottext">(ValueType o -&gt; Value) -&gt; (o -&gt; ValueType o) -&gt; o -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Optic' A_Lens NoIx o (ValueType o) -&gt; ValueType o
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (ValueType o)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621679697904"><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier hs-type">outputReferenceScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697904"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToScriptHash.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697904"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679697904"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.ScriptHash</span></span></span><span>
</span><span id="line-95"></span><span id="outputReferenceScriptHash"><span class="annot"><span class="annottext">outputReferenceScriptHash :: forall o.
(IsAbstractOutput o, ToScriptHash (ReferenceScriptType o)) =&gt;
o -&gt; Maybe ScriptHash
</span><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier hs-var hs-var">outputReferenceScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReferenceScriptType o -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Conversion.ToScriptHash.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(ReferenceScriptType o -&gt; ScriptHash)
-&gt; Maybe (ReferenceScriptType o) -&gt; Maybe ScriptHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (ReferenceScriptType o) -&gt; Maybe ScriptHash)
-&gt; (o -&gt; Maybe (ReferenceScriptType o)) -&gt; o -&gt; Maybe ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o
-&gt; Optic' A_Lens NoIx o (Maybe (ReferenceScriptType o))
-&gt; Maybe (ReferenceScriptType o)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (Maybe (ReferenceScriptType o))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="annot"><span class="hs-comment">-- | Return the output as it is seen by a validator on the 'TxInfo'.</span></span><span>
</span><span id="line-98"></span><span id="local-6989586621679697913"><span class="annot"><a href="Cooked.Output.html#outputTxOut"><span class="hs-identifier hs-type">outputTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697913"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679697913"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.TxOut</span></span></span><span>
</span><span id="line-99"></span><span id="outputTxOut"><span class="annot"><span class="annottext">outputTxOut :: forall o. IsTxInfoOutput o =&gt; o -&gt; TxOut
</span><a href="Cooked.Output.html#outputTxOut"><span class="hs-identifier hs-var hs-var">outputTxOut</span></a></span></span><span> </span><span id="local-6989586621679698129"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698129"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Value -&gt; OutputDatum -&gt; Maybe ScriptHash -&gt; TxOut
</span><span class="hs-identifier hs-var">Api.TxOut</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698129"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Value
forall o. (IsAbstractOutput o, ToValue (ValueType o)) =&gt; o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var">outputValue</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698129"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698129"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Maybe ScriptHash
forall o.
(IsAbstractOutput o, ToScriptHash (ReferenceScriptType o)) =&gt;
o -&gt; Maybe ScriptHash
</span><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier hs-var">outputReferenceScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679698129"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><span class="hs-comment">-- * 'Api.TxOut's are outputs</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.TxOut</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="OwnerType"><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-var">OwnerType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.TxOut</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Credential</span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatumType"><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-var">DatumType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.TxOut</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.OutputDatum</span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ValueType"><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-var">ValueType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.TxOut</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Value</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ReferenceScriptType"><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-var">ReferenceScriptType</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.TxOut</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.ScriptHash</span></span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621679698143"><span class="annot"><span class="annottext">outputOwnerL :: Lens' TxOut (OwnerType TxOut)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputOwnerL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><span class="annottext">LensVL TxOut TxOut Address Address
-&gt; Lens TxOut TxOut Address Address
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lensVL</span></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; f Address) -&gt; TxOut -&gt; f TxOut
LensVL TxOut TxOut Address Address
</span><span class="hs-identifier hs-var">Api.outAddress</span></span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><span class="annottext">Lens TxOut TxOut Address Address
-&gt; Optic A_Lens NoIx Address Address Credential Credential
-&gt; Optic A_Lens NoIx TxOut TxOut Credential Credential
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Credential)
-&gt; (Address -&gt; Credential -&gt; Address)
-&gt; Optic A_Lens NoIx Address Address Credential Credential
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span>
</span><span id="line-111"></span><span>        </span><span class="annot"><span class="annottext">Address -&gt; Credential
</span><span class="hs-identifier hs-var">Api.addressCredential</span></span><span>
</span><span id="line-112"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698151"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679698151"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621679698152"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679698152"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679698151"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="hs-identifier hs-var">Api.addressCredential</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698152"><span class="hs-identifier hs-type">cred</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>  </span><span id="local-6989586621679698153"><span class="annot"><span class="annottext">outputDatumL :: Lens' TxOut (DatumType TxOut)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputDatumL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut OutputDatum OutputDatum
-&gt; Lens TxOut TxOut OutputDatum OutputDatum
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lensVL</span></span><span> </span><span class="annot"><span class="annottext">(OutputDatum -&gt; f OutputDatum) -&gt; TxOut -&gt; f TxOut
LensVL TxOut TxOut OutputDatum OutputDatum
</span><span class="hs-identifier hs-var">Api.outDatum</span></span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621679698157"><span class="annot"><span class="annottext">outputStakingCredentialL :: Lens' TxOut (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputStakingCredentialL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">(TxOut -&gt; Maybe StakingCredential)
-&gt; (TxOut -&gt; Maybe StakingCredential -&gt; TxOut)
-&gt; Lens' TxOut (Maybe StakingCredential)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span>
</span><span id="line-116"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; Maybe StakingCredential
</span><span class="hs-identifier hs-var">Api.addressStakingCredential</span></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Maybe StakingCredential)
-&gt; (TxOut -&gt; Address) -&gt; TxOut -&gt; Maybe StakingCredential
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Address
</span><span class="hs-identifier hs-var">Api.txOutAddress</span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679698160"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679698160"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679698161"><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679698161"><span class="hs-identifier hs-var">mStCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-118"></span><span>          </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679698160"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="hs-identifier hs-var">Api.txOutAddress</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-var">Api.txOutAddress</span></span><span> </span><span class="annot"><a href="#local-6989586621679698160"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="hs-identifier hs-var">Api.addressStakingCredential</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698161"><span class="hs-identifier hs-type">mStCred</span></a></span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-119"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621679698162"><span class="annot"><span class="annottext">outputValueL :: Lens' TxOut (ValueType TxOut)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputValueL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut Value Value -&gt; Lens TxOut TxOut Value Value
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lensVL</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; f Value) -&gt; TxOut -&gt; f TxOut
LensVL TxOut TxOut Value Value
</span><span class="hs-identifier hs-var">Api.outValue</span></span><span>
</span><span id="line-121"></span><span>  </span><span id="local-6989586621679698166"><span class="annot"><span class="annottext">outputReferenceScriptL :: Lens' TxOut (Maybe (ReferenceScriptType TxOut))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputReferenceScriptL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut (Maybe ScriptHash) (Maybe ScriptHash)
-&gt; Lens TxOut TxOut (Maybe ScriptHash) (Maybe ScriptHash)
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lensVL</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ScriptHash -&gt; f (Maybe ScriptHash)) -&gt; TxOut -&gt; f TxOut
LensVL TxOut TxOut (Maybe ScriptHash) (Maybe ScriptHash)
</span><span class="hs-identifier hs-var">Api.outReferenceScript</span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="annot"><span class="hs-comment">-- * A concrete type for outputs</span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="annot"><span class="hs-comment">-- | A type constructed to be the most general instance of 'IsAbstractOutput'.</span></span><span>
</span><span id="line-126"></span><span class="hs-keyword">data</span><span> </span><span id="ConcreteOutput"><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span></span><span> </span><span id="local-6989586621679698170"><span class="annot"><a href="#local-6989586621679698170"><span class="hs-identifier hs-type">ownerType</span></a></span></span><span> </span><span id="local-6989586621679698171"><span class="annot"><a href="#local-6989586621679698171"><span class="hs-identifier hs-type">datumType</span></a></span></span><span> </span><span id="local-6989586621679698172"><span class="annot"><a href="#local-6989586621679698172"><span class="hs-identifier hs-type">valueType</span></a></span></span><span> </span><span id="local-6989586621679698173"><span class="annot"><a href="#local-6989586621679698173"><span class="hs-identifier hs-type">referenceScriptType</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>  </span><span id="local-6989586621679697955"><span id="local-6989586621679697956"><span id="local-6989586621679697957"><span id="local-6989586621679697958"><span id="ConcreteOutput"><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="concreteOutputOwner"><span class="annot"><span class="annottext">forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; ownerType
</span><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var hs-var">concreteOutputOwner</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679697955"><span class="hs-identifier hs-type">ownerType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>      </span><span id="concreteOutputStakingCredential"><span class="annot"><span class="annottext">forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe StakingCredential
</span><a href="Cooked.Output.html#concreteOutputStakingCredential"><span class="hs-identifier hs-var hs-var">concreteOutputStakingCredential</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.StakingCredential</span></span><span class="hs-special">,</span><span>
</span><span id="line-130"></span><span>      </span><span id="concreteOutputDatum"><span class="annot"><span class="annottext">forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; datumType
</span><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var hs-var">concreteOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679697956"><span class="hs-identifier hs-type">datumType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>      </span><span id="concreteOutputValue"><span class="annot"><span class="annottext">forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; valueType
</span><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var hs-var">concreteOutputValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679697957"><span class="hs-identifier hs-type">valueType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-132"></span><span>      </span><span id="concreteOutputReferenceScript"><span class="annot"><span class="annottext">forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe referenceScriptType
</span><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var hs-var">concreteOutputReferenceScript</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679697958"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697955"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697956"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697957"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697958"><span class="hs-identifier hs-type">referenceScriptType</span></a></span></span></span></span></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span id="local-6989586621679697987"><span id="local-6989586621679697988"><span id="local-6989586621679697989"><span id="local-6989586621679697990"><span id="local-6989586621679698185"><span id="local-6989586621679698196"><span id="local-6989586621679698200"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679697987"><span class="hs-identifier hs-type">ownerType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679697988"><span class="hs-identifier hs-type">datumType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679697989"><span class="hs-identifier hs-type">valueType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679697990"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697987"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697988"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697989"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697990"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621679697997"><span id="local-6989586621679697998"><span id="local-6989586621679697999"><span id="local-6989586621679698000"><span id="local-6989586621679698209"><span id="local-6989586621679698218"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679697997"><span class="hs-identifier hs-type">ownerType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679697998"><span class="hs-identifier hs-type">datumType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679697999"><span class="hs-identifier hs-type">valueType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679698000"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697997"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697998"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679697999"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698000"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679698005"><span id="local-6989586621679698006"><span id="local-6989586621679698007"><span id="local-6989586621679698008"><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698005"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698006"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698007"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698008"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="OwnerType"><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-var">OwnerType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698005"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698005"><span class="hs-identifier hs-type">ownerType</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatumType"><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-var">DatumType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="#local-6989586621679698006"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698006"><span class="hs-identifier hs-type">datumType</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ValueType"><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-var">ValueType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="#local-6989586621679698007"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698007"><span class="hs-identifier hs-type">valueType</span></a></span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ReferenceScriptType"><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-var">ReferenceScriptType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="#local-6989586621679698008"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698008"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679698229"><span class="annot"><span class="annottext">outputOwnerL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (OwnerType
     (ConcreteOutput ownerType datumType valueType referenceScriptType))
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputOwnerL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; ownerType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; ownerType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     ownerType
     ownerType
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; ownerType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; ownerType
</span><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698230"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698230"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679698231"><span class="annot"><span class="annottext">ownerType
</span><a href="#local-6989586621679698231"><span class="hs-identifier hs-var">owner</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698230"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698231"><span class="hs-identifier hs-type">owner</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679698232"><span class="annot"><span class="annottext">outputStakingCredentialL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputStakingCredentialL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; Maybe StakingCredential)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; Maybe StakingCredential
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens'
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (Maybe StakingCredential)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe StakingCredential
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe StakingCredential
</span><a href="Cooked.Output.html#concreteOutputStakingCredential"><span class="hs-identifier hs-var">concreteOutputStakingCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698233"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698233"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679698234"><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679698234"><span class="hs-identifier hs-var">mStCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698233"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputStakingCredential"><span class="hs-identifier hs-var">concreteOutputStakingCredential</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698234"><span class="hs-identifier hs-type">mStCred</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>  </span><span id="local-6989586621679698235"><span class="annot"><span class="annottext">outputDatumL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (DatumType
     (ConcreteOutput ownerType datumType valueType referenceScriptType))
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputDatumL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; datumType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; datumType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     datumType
     datumType
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; datumType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; datumType
</span><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698236"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698236"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679698237"><span class="annot"><span class="annottext">datumType
</span><a href="#local-6989586621679698237"><span class="hs-identifier hs-var">datum</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698236"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698237"><span class="hs-identifier hs-type">datum</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>  </span><span id="local-6989586621679698238"><span class="annot"><span class="annottext">outputValueL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (ValueType
     (ConcreteOutput ownerType datumType valueType referenceScriptType))
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputValueL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; valueType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; valueType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     valueType
     valueType
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; valueType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; valueType
</span><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var">concreteOutputValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698239"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698239"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679698240"><span class="annot"><span class="annottext">valueType
</span><a href="#local-6989586621679698240"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698239"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var">concreteOutputValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698240"><span class="hs-identifier hs-type">value</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679698241"><span class="annot"><span class="annottext">outputReferenceScriptL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (Maybe
     (ReferenceScriptType
        (ConcreteOutput
           ownerType datumType valueType referenceScriptType)))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputReferenceScriptL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; Maybe referenceScriptType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; Maybe referenceScriptType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (Maybe referenceScriptType)
     (Maybe referenceScriptType)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe referenceScriptType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe referenceScriptType
</span><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var">concreteOutputReferenceScript</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698242"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698242"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679698243"><span class="annot"><span class="annottext">Maybe referenceScriptType
</span><a href="#local-6989586621679698243"><span class="hs-identifier hs-var">mRefScript</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679698242"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var">concreteOutputReferenceScript</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698243"><span class="hs-identifier hs-type">mRefScript</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><span class="hs-comment">-- | Creates a generic concrete instance of any kind of abstract output</span></span><span>
</span><span id="line-152"></span><span id="local-6989586621679698009"><span class="annot"><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-type">fromAbstractOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698009"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698009"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698009"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698009"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698009"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698009"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-153"></span><span id="fromAbstractOutput"><span class="annot"><span class="annottext">fromAbstractOutput :: forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var hs-var">fromAbstractOutput</span></a></span></span><span> </span><span id="local-6989586621679698255"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698255"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OwnerType out
-&gt; Maybe StakingCredential
-&gt; DatumType out
-&gt; ValueType out
-&gt; Maybe (ReferenceScriptType out)
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall ownerType datumType valueType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; datumType
-&gt; valueType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">out -&gt; Optic' A_Lens NoIx out (OwnerType out) -&gt; OwnerType out
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (OwnerType out)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">out
-&gt; Optic' A_Lens NoIx out (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">out -&gt; Optic' A_Lens NoIx out (DatumType out) -&gt; DatumType out
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (DatumType out)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">out -&gt; Optic' A_Lens NoIx out (ValueType out) -&gt; ValueType out
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (ValueType out)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">out
-&gt; Optic' A_Lens NoIx out (Maybe (ReferenceScriptType out))
-&gt; Maybe (ReferenceScriptType out)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (Maybe (ReferenceScriptType out))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="annot"><span class="hs-comment">-- * Functions to translate between different output types</span></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="annot"><span class="hs-comment">-- ** Filtering on the datum</span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><span class="hs-comment">-- | Test if there is no datum on an output.</span></span><span>
</span><span id="line-160"></span><span id="local-6989586621679698011"><span class="annot"><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier hs-type">isOutputWithoutDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698011"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698011"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698011"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698011"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698011"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-161"></span><span id="isOutputWithoutDatum"><span class="annot"><span class="annottext">isOutputWithoutDatum :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) () (ValueType out) (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier hs-var hs-var">isOutputWithoutDatum</span></a></span></span><span> </span><span id="local-6989586621679698262"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698262"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OutputDatum
</span><span class="hs-identifier hs-var">Api.NoOutputDatum</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698262"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out) () (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) () (ValueType out) (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out) () (ValueType out) (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out) () (ValueType out) (ReferenceScriptType out)))
-&gt; ConcreteOutput
     (OwnerType out) () (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) () (ValueType out) (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698262"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-162"></span><span class="annot"><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier hs-var">isOutputWithoutDatum</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out) () (ValueType out) (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">-- | Test if the output carries some inlined datum.</span></span><span>
</span><span id="line-165"></span><span id="local-6989586621679698016"><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier hs-type">isOutputWithInlineDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698016"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698016"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698016"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Datum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698016"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698016"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-166"></span><span id="isOutputWithInlineDatum"><span class="annot"><span class="annottext">isOutputWithInlineDatum :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) Datum (ValueType out) (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier hs-var hs-var">isOutputWithInlineDatum</span></a></span></span><span> </span><span id="local-6989586621679698270"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698270"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.OutputDatum</span></span><span> </span><span id="local-6989586621679698272"><span class="annot"><span class="annottext">datum :: Datum
</span><a href="#local-6989586621679698272"><span class="hs-identifier hs-var">datum</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Api.Datum</span></span><span> </span><span class="annot"><span class="annottext">BuiltinData
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698270"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out) Datum (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) Datum (ValueType out) (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out) Datum (ValueType out) (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out) Datum (ValueType out) (ReferenceScriptType out)))
-&gt; ConcreteOutput
     (OwnerType out) Datum (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) Datum (ValueType out) (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698270"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698272"><span class="hs-identifier hs-type">datum</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-167"></span><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier hs-var">isOutputWithInlineDatum</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out) Datum (ValueType out) (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- | Test if the output carries some inlined datum that can be parsed from</span><span>
</span><span id="line-170"></span><span class="hs-comment">-- builtin data on to something of a specific type.</span><span>
</span><span id="line-171"></span><span id="local-6989586621679698020"><span id="local-6989586621679698022"><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier hs-type">isOutputWithInlineDatumOfType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Api.FromData</span></span><span> </span><span class="annot"><a href="#local-6989586621679698020"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698022"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698022"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698022"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679698020"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698022"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698022"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-172"></span><span id="isOutputWithInlineDatumOfType"><span class="annot"><span class="annottext">isOutputWithInlineDatumOfType :: forall a out.
(FromData a, IsTxInfoOutput out) =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) a (ValueType out) (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier hs-var hs-var">isOutputWithInlineDatumOfType</span></a></span></span><span> </span><span id="local-6989586621679698283"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698283"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.OutputDatum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Api.Datum</span></span><span> </span><span id="local-6989586621679698284"><span class="annot"><span class="annottext">BuiltinData
</span><a href="#local-6989586621679698284"><span class="hs-identifier hs-var">datum</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698283"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679698285"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679698285"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698283"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698285"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a
 -&gt; ConcreteOutput
      (OwnerType out) a (ValueType out) (ReferenceScriptType out))
-&gt; Maybe a
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) a (ValueType out) (ReferenceScriptType out))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; Maybe a
forall a. FromData a =&gt; BuiltinData -&gt; Maybe a
</span><span class="hs-identifier hs-var">Api.fromBuiltinData</span></span><span> </span><span class="annot"><span class="annottext">BuiltinData
</span><a href="#local-6989586621679698284"><span class="hs-identifier hs-var">datum</span></a></span><span>
</span><span id="line-173"></span><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier hs-var">isOutputWithInlineDatumOfType</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out) a (ValueType out) (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><span class="hs-comment">-- | Test if the output carries some datum hash.</span></span><span>
</span><span id="line-176"></span><span id="local-6989586621679698026"><span class="annot"><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier hs-type">isOutputWithDatumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698026"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698026"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698026"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.DatumHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698026"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698026"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-177"></span><span id="isOutputWithDatumHash"><span class="annot"><span class="annottext">isOutputWithDatumHash :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        DatumHash
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier hs-var hs-var">isOutputWithDatumHash</span></a></span></span><span> </span><span id="local-6989586621679698293"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698293"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.OutputDatumHash</span></span><span> </span><span id="local-6989586621679698295"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679698295"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698293"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out) DatumHash (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        DatumHash
        (ValueType out)
        (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out) DatumHash (ValueType out) (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out)
         DatumHash
         (ValueType out)
         (ReferenceScriptType out)))
-&gt; ConcreteOutput
     (OwnerType out) DatumHash (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        DatumHash
        (ValueType out)
        (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698293"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698295"><span class="hs-identifier hs-type">hash</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-178"></span><span class="annot"><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier hs-var">isOutputWithDatumHash</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out)
     DatumHash
     (ValueType out)
     (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="annot"><span class="hs-comment">-- ** Filtering on the owner</span></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><span class="hs-comment">-- | Test if the owner of an output is a script</span></span><span>
</span><span id="line-183"></span><span id="local-6989586621679698029"><span class="annot"><a href="Cooked.Output.html#isScriptOutput"><span class="hs-identifier hs-type">isScriptOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698029"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698029"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.ScriptHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698029"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698029"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698029"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-184"></span><span id="isScriptOutput"><span class="annot"><span class="annottext">isScriptOutput :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isScriptOutput"><span class="hs-identifier hs-var hs-var">isScriptOutput</span></a></span></span><span> </span><span id="local-6989586621679698302"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698302"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Address</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Api.ScriptCredential</span></span><span> </span><span id="local-6989586621679698304"><span class="annot"><span class="annottext">ScriptHash
</span><a href="#local-6989586621679698304"><span class="hs-identifier hs-var">scriptHash</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698302"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  ScriptHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   ScriptHash
   (DatumType out)
   (ValueType out)
   (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         ScriptHash
         (DatumType out)
         (ValueType out)
         (ReferenceScriptType out)))
-&gt; ConcreteOutput
     ScriptHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698302"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698304"><span class="hs-identifier hs-type">scriptHash</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-185"></span><span class="annot"><a href="Cooked.Output.html#isScriptOutput"><span class="hs-identifier hs-var">isScriptOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     ScriptHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="annot"><span class="hs-comment">-- | Test if the owner of an output is a specific script</span></span><span>
</span><span id="line-188"></span><span id="local-6989586621679698031"><span id="local-6989586621679698032"><span class="annot"><a href="Cooked.Output.html#isScriptOutputFrom"><span class="hs-identifier hs-type">isScriptOutputFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698031"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToScriptHash.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698032"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698032"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698031"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698032"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698031"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698031"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698031"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-189"></span><span id="isScriptOutputFrom"><span class="annot"><span class="annottext">isScriptOutputFrom :: forall out s.
(IsTxInfoOutput out, ToScriptHash s) =&gt;
s
-&gt; out
-&gt; Maybe
     (ConcreteOutput
        s (DatumType out) (ValueType out) (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isScriptOutputFrom"><span class="hs-identifier hs-var hs-var">isScriptOutputFrom</span></a></span></span><span> </span><span id="local-6989586621679698315"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679698315"><span class="hs-identifier hs-var">validator</span></a></span></span><span> </span><span id="local-6989586621679698316"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698316"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679698317"><span class="annot"><span class="annottext">ConcreteOutput
  ScriptHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
</span><a href="#local-6989586621679698317"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out
-&gt; Maybe
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isScriptOutput"><span class="hs-identifier hs-var">isScriptOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698316"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">s -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Conversion.ToScriptHash.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679698315"><span class="hs-identifier hs-var">validator</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ScriptHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  ScriptHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
</span><a href="#local-6989586621679698317"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  ScriptHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Optic'
     A_Lens
     NoIx
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
     ScriptHash
-&gt; ScriptHash
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic'
  A_Lens
  NoIx
  (ConcreteOutput
     ScriptHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
  ScriptHash
Lens'
  (ConcreteOutput
     ScriptHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
  (OwnerType
     (ConcreteOutput
        ScriptHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out)))
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  s (DatumType out) (ValueType out) (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        s (DatumType out) (ValueType out) (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConcreteOutput
  ScriptHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
</span><a href="#local-6989586621679698317"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698315"><span class="hs-identifier hs-type">validator</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     s (DatumType out) (ValueType out) (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- Test if the owner of an output is a public key</span><span>
</span><span id="line-196"></span><span id="local-6989586621679698035"><span class="annot"><a href="Cooked.Output.html#isPKOutput"><span class="hs-identifier hs-type">isPKOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698035"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698035"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.PubKeyHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698035"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698035"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698035"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-197"></span><span id="isPKOutput"><span class="annot"><span class="annottext">isPKOutput :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isPKOutput"><span class="hs-identifier hs-var hs-var">isPKOutput</span></a></span></span><span> </span><span id="local-6989586621679698324"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698324"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.Address</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Api.PubKeyCredential</span></span><span> </span><span id="local-6989586621679698326"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679698326"><span class="hs-identifier hs-var">pkh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698324"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   PubKeyHash
   (DatumType out)
   (ValueType out)
   (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         PubKeyHash
         (DatumType out)
         (ValueType out)
         (ReferenceScriptType out)))
-&gt; ConcreteOutput
     PubKeyHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698324"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679698326"><span class="hs-identifier hs-type">pkh</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-198"></span><span class="annot"><a href="Cooked.Output.html#isPKOutput"><span class="hs-identifier hs-var">isPKOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     PubKeyHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><span class="hs-comment">-- | Test if the owner of an output is a specific public key</span></span><span>
</span><span id="line-201"></span><span id="local-6989586621679698038"><span class="annot"><a href="Cooked.Output.html#isPKOutputFrom"><span class="hs-identifier hs-type">isPKOutputFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698038"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.PubKeyHash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698038"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.PubKeyHash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698038"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698038"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698038"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-202"></span><span id="isPKOutputFrom"><span class="annot"><span class="annottext">isPKOutputFrom :: forall out.
IsTxInfoOutput out =&gt;
PubKeyHash
-&gt; out
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isPKOutputFrom"><span class="hs-identifier hs-var hs-var">isPKOutputFrom</span></a></span></span><span> </span><span id="local-6989586621679698334"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679698334"><span class="hs-identifier hs-var">pkh</span></a></span></span><span> </span><span id="local-6989586621679698335"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698335"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679698336"><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
</span><a href="#local-6989586621679698336"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isPKOutput"><span class="hs-identifier hs-var">isPKOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698335"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679698334"><span class="hs-identifier hs-var">pkh</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
</span><a href="#local-6989586621679698336"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Optic'
     A_Lens
     NoIx
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
     PubKeyHash
-&gt; PubKeyHash
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic'
  A_Lens
  NoIx
  (ConcreteOutput
     PubKeyHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
  PubKeyHash
Lens'
  (ConcreteOutput
     PubKeyHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
  (OwnerType
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out)))
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
</span><a href="#local-6989586621679698336"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     PubKeyHash
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="annot"><span class="hs-comment">-- ** Filtering on the staking credential</span></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="annot"><span class="hs-comment">-- | Test if the given output possesses a certain staking credential</span></span><span>
</span><span id="line-211"></span><span id="local-6989586621679698040"><span id="local-6989586621679698041"><span class="annot"><a href="Cooked.Output.html#isStakingCredentialOutputFrom"><span class="hs-identifier hs-type">isStakingCredentialOutputFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698040"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToCredential.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698041"><span class="hs-identifier hs-type">cred</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698041"><span class="hs-identifier hs-type">cred</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698040"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698040"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698040"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698040"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698040"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-212"></span><span id="isStakingCredentialOutputFrom"><span class="annot"><span class="annottext">isStakingCredentialOutputFrom :: forall out cred.
(IsTxInfoOutput out, ToCredential cred) =&gt;
cred
-&gt; out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isStakingCredentialOutputFrom"><span class="hs-identifier hs-var hs-var">isStakingCredentialOutputFrom</span></a></span></span><span> </span><span id="local-6989586621679698346"><span class="annot"><span class="annottext">cred
</span><a href="#local-6989586621679698346"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span id="local-6989586621679698347"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698347"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Api.StakingHash</span></span><span> </span><span id="local-6989586621679698349"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679698349"><span class="hs-identifier hs-var">cred'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698347"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">out
-&gt; Optic' A_Lens NoIx out (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cred -&gt; Credential
forall a. ToCredential a =&gt; a -&gt; Credential
</span><a href="Cooked.Conversion.ToCredential.html#toCredential"><span class="hs-identifier hs-var">toCredential</span></a></span><span> </span><span class="annot"><span class="annottext">cred
</span><a href="#local-6989586621679698346"><span class="hs-identifier hs-var">cred</span></a></span><span> </span><span class="annot"><span class="annottext">Credential -&gt; Credential -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679698349"><span class="hs-identifier hs-var">cred'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out)
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out)
   (DatumType out)
   (ValueType out)
   (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out)
         (DatumType out)
         (ValueType out)
         (ReferenceScriptType out)))
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698347"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-213"></span><span class="annot"><a href="Cooked.Output.html#isStakingCredentialOutputFrom"><span class="hs-identifier hs-var">isStakingCredentialOutputFrom</span></a></span><span> </span><span class="annot"><span class="annottext">cred
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><span class="hs-comment">-- | Test if the give output does not possess any staking credential</span></span><span>
</span><span id="line-216"></span><span id="local-6989586621679698044"><span class="annot"><a href="Cooked.Output.html#isEmptyStakingCredentialOutput"><span class="hs-identifier hs-type">isEmptyStakingCredentialOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698044"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698044"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698044"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698044"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698044"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698044"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-217"></span><span id="isEmptyStakingCredentialOutput"><span class="annot"><span class="annottext">isEmptyStakingCredentialOutput :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isEmptyStakingCredentialOutput"><span class="hs-identifier hs-var hs-var">isEmptyStakingCredentialOutput</span></a></span></span><span> </span><span id="local-6989586621679698355"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698355"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698355"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">out
-&gt; Optic' A_Lens NoIx out (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out)
  (DatumType out)
  (ValueType out)
  (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out)
   (DatumType out)
   (ValueType out)
   (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out)
         (DatumType out)
         (ValueType out)
         (ReferenceScriptType out)))
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out)
        (DatumType out)
        (ValueType out)
        (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698355"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-218"></span><span class="annot"><a href="Cooked.Output.html#isEmptyStakingCredentialOutput"><span class="hs-identifier hs-var">isEmptyStakingCredentialOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><span class="hs-comment">-- ** Filtering on the value</span></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="annot"><span class="hs-comment">-- | Test if the value on an output contains only Ada.</span></span><span>
</span><span id="line-223"></span><span id="local-6989586621679698046"><span class="annot"><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier hs-type">isOnlyAdaOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698046"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698046"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698046"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698046"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script.Ada</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698046"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-224"></span><span id="isOnlyAdaOutput"><span class="annot"><span class="annottext">isOnlyAdaOutput :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) (DatumType out) Ada (ReferenceScriptType out))
</span><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier hs-var hs-var">isOnlyAdaOutput</span></a></span></span><span> </span><span id="local-6989586621679698364"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698364"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Bool
</span><span class="hs-identifier hs-var">Script.isAdaOnlyValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out -&gt; Value
forall o. (IsAbstractOutput o, ToValue (ValueType o)) =&gt; o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var">outputValue</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698364"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out) (DatumType out) Ada (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) (DatumType out) Ada (ReferenceScriptType out))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out) (DatumType out) Ada (ReferenceScriptType out)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out) (DatumType out) Ada (ReferenceScriptType out)))
-&gt; ConcreteOutput
     (OwnerType out) (DatumType out) Ada (ReferenceScriptType out)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) (DatumType out) Ada (ReferenceScriptType out))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698364"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var">concreteOutputValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Script.fromValue</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-type">outputValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698364"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-225"></span><span class="annot"><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier hs-var">isOnlyAdaOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out) (DatumType out) Ada (ReferenceScriptType out))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="annot"><span class="hs-comment">-- ** Filtering on the reference script</span></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="annot"><span class="hs-comment">-- | Convert the reference script type on the output to 'Api.ScriptHash'.</span></span><span>
</span><span id="line-230"></span><span id="local-6989586621679698049"><span class="annot"><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier hs-type">toOutputWithReferenceScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698049"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698049"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698049"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698049"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698049"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.ScriptHash</span></span></span><span>
</span><span id="line-231"></span><span id="toOutputWithReferenceScriptHash"><span class="annot"><span class="annottext">toOutputWithReferenceScriptHash :: forall out.
IsTxInfoOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out) (DatumType out) (ValueType out) ScriptHash
</span><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier hs-var hs-var">toOutputWithReferenceScriptHash</span></a></span></span><span> </span><span id="local-6989586621679698376"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698376"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
forall out.
IsAbstractOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out)
     (DatumType out)
     (ValueType out)
     (ReferenceScriptType out)
</span><a href="Cooked.Output.html#fromAbstractOutput"><span class="hs-identifier hs-var">fromAbstractOutput</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698376"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var">concreteOutputReferenceScript</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToScriptHash.html#toScriptHash"><span class="hs-identifier hs-type">toScriptHash</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679698376"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">^.</span></span><span> </span><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-type">outputReferenceScriptL</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="annot"><span class="hs-comment">-- | Test if the reference script in an output is a specific script</span></span><span>
</span><span id="line-234"></span><span id="local-6989586621679698051"><span id="local-6989586621679698052"><span class="annot"><a href="Cooked.Output.html#isReferenceScriptOutputFrom"><span class="hs-identifier hs-type">isReferenceScriptOutputFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698051"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Conversion.ToScriptHash.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698052"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698052"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679698051"><span class="hs-identifier hs-type">out</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698051"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698051"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679698051"><span class="hs-identifier hs-type">out</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Api.ScriptHash</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-235"></span><span id="isReferenceScriptOutputFrom"><span class="annot"><span class="annottext">isReferenceScriptOutputFrom :: forall out s.
(IsTxInfoOutput out, ToScriptHash s) =&gt;
s
-&gt; out
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) (DatumType out) (ValueType out) ScriptHash)
</span><a href="Cooked.Output.html#isReferenceScriptOutputFrom"><span class="hs-identifier hs-var hs-var">isReferenceScriptOutputFrom</span></a></span></span><span> </span><span id="local-6989586621679698387"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679698387"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679698388"><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698388"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679698389"><span class="annot"><span class="annottext">ReferenceScriptType out
</span><a href="#local-6989586621679698389"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698388"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">out
-&gt; Optic' A_Lens NoIx out (Maybe (ReferenceScriptType out))
-&gt; Maybe (ReferenceScriptType out)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx out (Maybe (ReferenceScriptType out))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReferenceScriptType out -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Conversion.ToScriptHash.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">ReferenceScriptType out
</span><a href="#local-6989586621679698389"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ScriptHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Conversion.ToScriptHash.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679698387"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType out) (DatumType out) (ValueType out) ScriptHash
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) (DatumType out) (ValueType out) ScriptHash)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType out) (DatumType out) (ValueType out) ScriptHash
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType out) (DatumType out) (ValueType out) ScriptHash))
-&gt; ConcreteOutput
     (OwnerType out) (DatumType out) (ValueType out) ScriptHash
-&gt; Maybe
     (ConcreteOutput
        (OwnerType out) (DatumType out) (ValueType out) ScriptHash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">out
-&gt; ConcreteOutput
     (OwnerType out) (DatumType out) (ValueType out) ScriptHash
forall out.
IsTxInfoOutput out =&gt;
out
-&gt; ConcreteOutput
     (OwnerType out) (DatumType out) (ValueType out) ScriptHash
</span><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier hs-var">toOutputWithReferenceScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">out
</span><a href="#local-6989586621679698388"><span class="hs-identifier hs-var">out</span></a></span><span>
</span><span id="line-236"></span><span class="annot"><a href="Cooked.Output.html#isReferenceScriptOutputFrom"><span class="hs-identifier hs-var">isReferenceScriptOutputFrom</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">out
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType out) (DatumType out) (ValueType out) ScriptHash)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-237"></span></pre></body></html>