<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cooked.Output</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier">IsAbstractOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier">OwnerType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier">DatumType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier">ValueType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier">ReferenceScriptType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier">outputOwnerL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier">outputStakingCredentialL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier">outputDatumL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier">outputValueL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier">outputReferenceScriptL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier">ToCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier">ToOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToValue"><span class="hs-identifier">ToValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToScript"><span class="hs-identifier">ToScript</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier">IsTxInfoOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier">outputAddress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier">outputOutputDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputValue"><span class="hs-identifier">outputValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier">outputReferenceScriptHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#outputTxOut"><span class="hs-identifier">outputTxOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier">ConcreteOutput</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier">toOutputWithReferenceScriptHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier">isOutputWithoutDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier">isOutputWithInlineDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier">isOutputWithDatumHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier">isOutputWithInlineDatumOfType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isScriptOutputFrom"><span class="hs-identifier">isScriptOutputFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isPKOutputFrom"><span class="hs-identifier">isPKOutputFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier">isOnlyAdaOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">where</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../Optics.Core.html"><span class="hs-identifier">Optics.Core</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.Ada.html"><span class="hs-identifier">Plutus.Script.Utils.Ada</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pl</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html"><span class="hs-identifier">Plutus.Script.Utils.Scripts</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pl</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#validatorHash"><span class="hs-identifier">validatorHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.V2.Typed.Scripts.Validators.html"><span class="hs-identifier">Plutus.Script.Utils.V2.Typed.Scripts.Validators</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pl</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.Value.html"><span class="hs-identifier">Plutus.Script.Utils.Value</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pl</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Api.html"><span class="hs-identifier">Plutus.V2.Ledger.Api</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pl</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html"><span class="hs-identifier">Plutus.V2.Ledger.Tx</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pl</span></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">-- | A generalisation of 'Pl.TxOut': With the four type families, we can lift</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- some information about</span><span>
</span><span id="line-54"></span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- - who owns the output (a public key, a script...?)</span><span>
</span><span id="line-56"></span><span class="hs-comment">--</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- - what kind of datum is there (do we have an inline datum, a datum hash,</span><span>
</span><span id="line-58"></span><span class="hs-comment">--   nothing...?)</span><span>
</span><span id="line-59"></span><span class="hs-comment">--</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- - what kind of value does the output hold (pure Ada ...?)</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- - what information do we have on the reference script (only a hash, a</span><span>
</span><span id="line-63"></span><span class="hs-comment">--   complete script, a typed validator...?)</span><span>
</span><span id="line-64"></span><span class="hs-comment">--</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- to the type level.</span><span>
</span><span id="line-66"></span><span class="hs-keyword">class</span><span> </span><span id="IsAbstractOutput"><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-var">IsAbstractOutput</span></a></span></span><span> </span><span id="local-6989586621679638347"><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="OwnerType"><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-var">OwnerType</span></a></span></span><span> </span><span id="local-6989586621679638347"><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatumType"><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-var">DatumType</span></a></span></span><span> </span><span id="local-6989586621679638347"><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ValueType"><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-var">ValueType</span></a></span></span><span> </span><span id="local-6989586621679638347"><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ReferenceScriptType"><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-var">ReferenceScriptType</span></a></span></span><span> </span><span id="local-6989586621679638347"><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span></span><span>
</span><span id="line-71"></span><span>  </span><span id="outputOwnerL"><span class="annot"><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-type">outputOwnerL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../Optics.Lens.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span id="outputStakingCredentialL"><span class="annot"><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-type">outputStakingCredentialL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../Optics.Lens.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#StakingCredential"><span class="hs-identifier hs-type">Pl.StakingCredential</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>  </span><span id="outputDatumL"><span class="annot"><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-type">outputDatumL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../Optics.Lens.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>  </span><span id="outputValueL"><span class="annot"><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-type">outputValueL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../Optics.Lens.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>  </span><span id="outputReferenceScriptL"><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-type">outputReferenceScriptL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../Optics.Lens.html#Lens%27"><span class="hs-identifier hs-type">Lens'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638347"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">class</span><span> </span><span id="ToCredential"><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier hs-var">ToCredential</span></a></span></span><span> </span><span id="local-6989586621679638397"><span class="annot"><a href="#local-6989586621679638397"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span id="toCredential"><span class="annot"><a href="Cooked.Output.html#toCredential"><span class="hs-identifier hs-type">toCredential</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638397"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Pl.Credential</span></a></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Pl.Credential</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621679638220"><span class="annot"><span class="annottext">toCredential :: Credential -&gt; Credential
</span><a href="#local-6989586621679638220"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCredential</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Credential -&gt; Credential
forall a. a -&gt; a
</span><a href="../GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span id="local-6989586621679638218"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Typed.html#TypedValidator"><span class="hs-identifier hs-type">Pl.TypedValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638218"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>  </span><span id="local-6989586621679638216"><span class="annot"><span class="annottext">toCredential :: TypedValidator a -&gt; Credential
</span><a href="#local-6989586621679638216"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCredential</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValidatorHash -&gt; Credential
</span><a href="../Plutus.V1.Ledger.Credential.html#ScriptCredential"><span class="hs-identifier hs-var">Pl.ScriptCredential</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidatorHash -&gt; Credential)
-&gt; (TypedValidator a -&gt; ValidatorHash)
-&gt; TypedValidator a
-&gt; Credential
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TypedValidator a -&gt; ValidatorHash
forall a. TypedValidator a -&gt; ValidatorHash
</span><a href="../Plutus.Script.Utils.Typed.html#validatorHash"><span class="hs-identifier hs-var">Pl.validatorHash</span></a></span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">Pl.PubKeyHash</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>  </span><span id="local-6989586621679638211"><span class="annot"><span class="annottext">toCredential :: PubKeyHash -&gt; Credential
</span><a href="#local-6989586621679638211"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCredential</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PubKeyHash -&gt; Credential
</span><a href="../Plutus.V1.Ledger.Credential.html#PubKeyCredential"><span class="hs-identifier hs-var">Pl.PubKeyCredential</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">class</span><span> </span><span id="ToOutputDatum"><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-var">ToOutputDatum</span></a></span></span><span> </span><span id="local-6989586621679638385"><span class="annot"><a href="#local-6989586621679638385"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>  </span><span id="toOutputDatum"><span class="annot"><a href="Cooked.Output.html#toOutputDatum"><span class="hs-identifier hs-type">toOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638385"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-type">Pl.OutputDatum</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-type">Pl.OutputDatum</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621679638206"><span class="annot"><span class="annottext">toOutputDatum :: OutputDatum -&gt; OutputDatum
</span><a href="#local-6989586621679638206"><span class="hs-identifier hs-var hs-var hs-var hs-var">toOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputDatum -&gt; OutputDatum
forall a. a -&gt; a
</span><a href="../GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Pl.Datum</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>  </span><span id="local-6989586621679638204"><span class="annot"><span class="annottext">toOutputDatum :: Datum -&gt; OutputDatum
</span><a href="#local-6989586621679638204"><span class="hs-identifier hs-var hs-var hs-var hs-var">toOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Datum -&gt; OutputDatum
</span><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-var">Pl.OutputDatum</span></a></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span id="local-6989586621679638201"><span class="annot"><span class="annottext">toOutputDatum :: () -&gt; OutputDatum
</span><a href="#local-6989586621679638201"><span class="hs-identifier hs-var hs-var hs-var hs-var">toOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputDatum -&gt; () -&gt; OutputDatum
forall a b. a -&gt; b -&gt; a
</span><a href="../GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">OutputDatum
</span><a href="../Plutus.V2.Ledger.Tx.html#NoOutputDatum"><span class="hs-identifier hs-var">Pl.NoOutputDatum</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">Pl.DatumHash</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621679638197"><span class="annot"><span class="annottext">toOutputDatum :: DatumHash -&gt; OutputDatum
</span><a href="#local-6989586621679638197"><span class="hs-identifier hs-var hs-var hs-var hs-var">toOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; OutputDatum
</span><a href="../Plutus.V2.Ledger.Tx.html#OutputDatumHash"><span class="hs-identifier hs-var">Pl.OutputDatumHash</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="annot"><a href="../PlutusTx.Builtins.Internal.html#BuiltinData"><span class="hs-identifier hs-type">Pl.BuiltinData</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621679638194"><span class="annot"><span class="annottext">toOutputDatum :: BuiltinData -&gt; OutputDatum
</span><a href="#local-6989586621679638194"><span class="hs-identifier hs-var hs-var hs-var hs-var">toOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Datum -&gt; OutputDatum
forall a. ToOutputDatum a =&gt; a -&gt; OutputDatum
</span><a href="Cooked.Output.html#toOutputDatum"><span class="hs-identifier hs-var">toOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">(Datum -&gt; OutputDatum)
-&gt; (BuiltinData -&gt; Datum) -&gt; BuiltinData -&gt; OutputDatum
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; Datum
</span><a href="../Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-var">Pl.Datum</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">class</span><span> </span><span id="ToValue"><span class="annot"><a href="Cooked.Output.html#ToValue"><span class="hs-identifier hs-var">ToValue</span></a></span></span><span> </span><span id="local-6989586621679638377"><span class="annot"><a href="#local-6989586621679638377"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>  </span><span id="toValue"><span class="annot"><a href="Cooked.Output.html#toValue"><span class="hs-identifier hs-type">toValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638377"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Pl.Value</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToValue"><span class="hs-identifier hs-type">ToValue</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Pl.Value</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679638189"><span class="annot"><span class="annottext">toValue :: Value -&gt; Value
</span><a href="#local-6989586621679638189"><span class="hs-identifier hs-var hs-var hs-var hs-var">toValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
forall a. a -&gt; a
</span><a href="../GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToValue"><span class="hs-identifier hs-type">ToValue</span></a></span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.Ada.html#Ada"><span class="hs-identifier hs-type">Pl.Ada</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621679638187"><span class="annot"><span class="annottext">toValue :: Ada -&gt; Value
</span><a href="#local-6989586621679638187"><span class="hs-identifier hs-var hs-var hs-var hs-var">toValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Value
</span><a href="../Plutus.Script.Utils.Ada.html#toValue"><span class="hs-identifier hs-var">Pl.toValue</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">class</span><span> </span><span id="ToScript"><span class="annot"><a href="Cooked.Output.html#ToScript"><span class="hs-identifier hs-var">ToScript</span></a></span></span><span> </span><span id="local-6989586621679638372"><span class="annot"><a href="#local-6989586621679638372"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>  </span><span id="toScript"><span class="annot"><a href="Cooked.Output.html#toScript"><span class="hs-identifier hs-type">toScript</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638372"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Pl.Versioned</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Script"><span class="hs-identifier hs-type">Pl.Script</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScript"><span class="hs-identifier hs-type">ToScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Pl.Versioned</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Script"><span class="hs-identifier hs-type">Pl.Script</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621679638182"><span class="annot"><span class="annottext">toScript :: Versioned Script -&gt; Versioned Script
</span><a href="#local-6989586621679638182"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Versioned Script -&gt; Versioned Script
forall a. a -&gt; a
</span><a href="../GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScript"><span class="hs-identifier hs-type">ToScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Pl.Versioned</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Validator"><span class="hs-identifier hs-type">Pl.Validator</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="local-6989586621679638180"><span class="annot"><span class="annottext">toScript :: Versioned Validator -&gt; Versioned Script
</span><a href="#local-6989586621679638180"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScript</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Pl.Versioned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Validator"><span class="hs-identifier hs-type">Pl.Validator</span></a></span><span> </span><span id="local-6989586621679638177"><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679638177"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679638176"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679638176"><span class="hs-identifier hs-var">version</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Script -&gt; Language -&gt; Versioned Script
forall script. script -&gt; Language -&gt; Versioned script
</span><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-var">Pl.Versioned</span></a></span><span> </span><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679638177"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679638176"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span id="local-6989586621679638175"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScript"><span class="hs-identifier hs-type">ToScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Typed.html#TypedValidator"><span class="hs-identifier hs-type">Pl.TypedValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679638173"><span class="annot"><span class="annottext">toScript :: TypedValidator a -&gt; Versioned Script
</span><a href="#local-6989586621679638173"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Versioned Validator -&gt; Versioned Script
forall a. ToScript a =&gt; a -&gt; Versioned Script
</span><a href="Cooked.Output.html#toScript"><span class="hs-identifier hs-var">toScript</span></a></span><span> </span><span class="annot"><span class="annottext">(Versioned Validator -&gt; Versioned Script)
-&gt; (TypedValidator a -&gt; Versioned Validator)
-&gt; TypedValidator a
-&gt; Versioned Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TypedValidator a -&gt; Versioned Validator
forall a. TypedValidator a -&gt; Versioned Validator
</span><a href="../Plutus.Script.Utils.Typed.html#vValidatorScript"><span class="hs-identifier hs-var">Pl.vValidatorScript</span></a></span></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-keyword">class</span><span> </span><span id="ToScriptHash"><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-var">ToScriptHash</span></a></span></span><span> </span><span id="local-6989586621679638364"><span class="annot"><a href="#local-6989586621679638364"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>  </span><span id="toScriptHash"><span class="annot"><a href="Cooked.Output.html#toScriptHash"><span class="hs-identifier hs-type">toScriptHash</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638364"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ScriptHash"><span class="hs-identifier hs-type">Pl.ScriptHash</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ScriptHash"><span class="hs-identifier hs-type">Pl.ScriptHash</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-132"></span><span>  </span><span id="local-6989586621679638168"><span class="annot"><span class="annottext">toScriptHash :: ScriptHash -&gt; ScriptHash
</span><a href="#local-6989586621679638168"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ScriptHash
forall a. a -&gt; a
</span><a href="../GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Pl.Versioned</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Script"><span class="hs-identifier hs-type">Pl.Script</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621679638166"><span class="annot"><span class="annottext">toScriptHash :: Versioned Script -&gt; ScriptHash
</span><a href="#local-6989586621679638166"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Versioned Script -&gt; ScriptHash
</span><a href="../Plutus.Script.Utils.Scripts.html#scriptHash"><span class="hs-identifier hs-var">Pl.scriptHash</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Scripts.html#Versioned"><span class="hs-identifier hs-type">Pl.Versioned</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Validator"><span class="hs-identifier hs-type">Pl.Validator</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-138"></span><span>  </span><span id="local-6989586621679638163"><span class="annot"><span class="annottext">toScriptHash :: Versioned Validator -&gt; ScriptHash
</span><a href="#local-6989586621679638163"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Versioned Script -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Output.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(Versioned Script -&gt; ScriptHash)
-&gt; (Versioned Validator -&gt; Versioned Script)
-&gt; Versioned Validator
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Validator -&gt; Versioned Script
forall a. ToScript a =&gt; a -&gt; Versioned Script
</span><a href="Cooked.Output.html#toScript"><span class="hs-identifier hs-var">toScript</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">Pl.ValidatorHash</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-141"></span><span>  </span><span id="local-6989586621679638161"><span class="annot"><span class="annottext">toScriptHash :: ValidatorHash -&gt; ScriptHash
</span><a href="#local-6989586621679638161"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScriptHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ValidatorHash"><span class="hs-identifier hs-type">Pl.ValidatorHash</span></a></span><span> </span><span id="local-6989586621679638159"><span class="annot"><span class="annottext">BuiltinByteString
</span><a href="#local-6989586621679638159"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ScriptHash
</span><a href="../Plutus.V1.Ledger.Scripts.html#ScriptHash"><span class="hs-identifier hs-var">Pl.ScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString
</span><a href="#local-6989586621679638159"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679638157"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Typed.html#TypedValidator"><span class="hs-identifier hs-type">Pl.TypedValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638157"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679638155"><span class="annot"><span class="annottext">toScriptHash :: TypedValidator a -&gt; ScriptHash
</span><a href="#local-6989586621679638155"><span class="hs-identifier hs-var hs-var hs-var hs-var">toScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValidatorHash -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Output.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidatorHash -&gt; ScriptHash)
-&gt; (TypedValidator a -&gt; ValidatorHash)
-&gt; TypedValidator a
-&gt; ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TypedValidator a -&gt; ValidatorHash
forall a. TypedValidator a -&gt; ValidatorHash
</span><a href="../Plutus.Script.Utils.Typed.html#validatorHash"><span class="hs-identifier hs-var">Pl.validatorHash</span></a></span></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-- | An output that can be translated into its script-perspective (as seen on</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- the 'TxInfo') representation</span><span>
</span><span id="line-148"></span><span class="hs-keyword">type</span><span> </span><span id="IsTxInfoOutput"><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-var">IsTxInfoOutput</span></a></span></span><span> </span><span id="local-6989586621679638154"><span class="annot"><a href="#local-6989586621679638154"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638154"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638154"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638154"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToValue"><span class="hs-identifier hs-type">ToValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638154"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638154"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span id="local-6989586621679638333"><span class="annot"><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-type">outputAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638333"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToCredential"><span class="hs-identifier hs-type">ToCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638333"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638333"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-type">Pl.Address</span></a></span></span><span>
</span><span id="line-157"></span><span id="outputAddress"><span class="annot"><span class="annottext">outputAddress :: o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var hs-var">outputAddress</span></a></span></span><span> </span><span id="local-6989586621679638153"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638153"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Credential -&gt; Maybe StakingCredential -&gt; Address
</span><a href="../Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-var">Pl.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OwnerType o -&gt; Credential
forall a. ToCredential a =&gt; a -&gt; Credential
</span><a href="Cooked.Output.html#toCredential"><span class="hs-identifier hs-var">toCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638153"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">o -&gt; Optic' A_Lens NoIx o (OwnerType o) -&gt; OwnerType o
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (OwnerType o)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638153"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">o
-&gt; Optic' A_Lens NoIx o (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span id="local-6989586621679638331"><span class="annot"><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-type">outputOutputDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638331"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToOutputDatum"><span class="hs-identifier hs-type">ToOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638331"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638331"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-type">Pl.OutputDatum</span></a></span></span><span>
</span><span id="line-160"></span><span id="outputOutputDatum"><span class="annot"><span class="annottext">outputOutputDatum :: o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var hs-var">outputOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumType o -&gt; OutputDatum
forall a. ToOutputDatum a =&gt; a -&gt; OutputDatum
</span><a href="Cooked.Output.html#toOutputDatum"><span class="hs-identifier hs-var">toOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumType o -&gt; OutputDatum)
-&gt; (o -&gt; DatumType o) -&gt; o -&gt; OutputDatum
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Optic' A_Lens NoIx o (DatumType o) -&gt; DatumType o
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (DatumType o)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span id="local-6989586621679638332"><span class="annot"><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-type">outputValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638332"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToValue"><span class="hs-identifier hs-type">ToValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638332"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638332"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Pl.Value</span></a></span></span><span>
</span><span id="line-163"></span><span id="outputValue"><span class="annot"><span class="annottext">outputValue :: o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var hs-var">outputValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValueType o -&gt; Value
forall a. ToValue a =&gt; a -&gt; Value
</span><a href="Cooked.Output.html#toValue"><span class="hs-identifier hs-var">toValue</span></a></span><span> </span><span class="annot"><span class="annottext">(ValueType o -&gt; Value) -&gt; (o -&gt; ValueType o) -&gt; o -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Optic' A_Lens NoIx o (ValueType o) -&gt; ValueType o
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (ValueType o)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621679638330"><span class="annot"><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier hs-type">outputReferenceScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638330"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638330"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638330"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ScriptHash"><span class="hs-identifier hs-type">Pl.ScriptHash</span></a></span></span><span>
</span><span id="line-166"></span><span id="outputReferenceScriptHash"><span class="annot"><span class="annottext">outputReferenceScriptHash :: o -&gt; Maybe ScriptHash
</span><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier hs-var hs-var">outputReferenceScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReferenceScriptType o -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Output.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(ReferenceScriptType o -&gt; ScriptHash)
-&gt; Maybe (ReferenceScriptType o) -&gt; Maybe ScriptHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (ReferenceScriptType o) -&gt; Maybe ScriptHash)
-&gt; (o -&gt; Maybe (ReferenceScriptType o)) -&gt; o -&gt; Maybe ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o
-&gt; Optic' A_Lens NoIx o (Maybe (ReferenceScriptType o))
-&gt; Maybe (ReferenceScriptType o)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx o (Maybe (ReferenceScriptType o))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-comment">-- | Return the output as it is seen by a validator on the 'TxInfo'.</span><span>
</span><span id="line-169"></span><span id="local-6989586621679638149"><span class="annot"><a href="Cooked.Output.html#outputTxOut"><span class="hs-identifier hs-type">outputTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638149"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638149"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">Pl.TxOut</span></a></span></span><span>
</span><span id="line-170"></span><span id="outputTxOut"><span class="annot"><span class="annottext">outputTxOut :: o -&gt; TxOut
</span><a href="Cooked.Output.html#outputTxOut"><span class="hs-identifier hs-var hs-var">outputTxOut</span></a></span></span><span> </span><span id="local-6989586621679638148"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638148"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="annottext">Address -&gt; Value -&gt; OutputDatum -&gt; Maybe ScriptHash -&gt; TxOut
</span><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-var">Pl.TxOut</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638148"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Value
forall o. (IsAbstractOutput o, ToValue (ValueType o)) =&gt; o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var">outputValue</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638148"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638148"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Maybe ScriptHash
forall o.
(IsAbstractOutput o, ToScriptHash (ReferenceScriptType o)) =&gt;
o -&gt; Maybe ScriptHash
</span><a href="Cooked.Output.html#outputReferenceScriptHash"><span class="hs-identifier hs-var">outputReferenceScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679638148"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-comment">-- * 'Pl.TxOut's are outputs</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">Pl.TxOut</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="OwnerType"><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-var">OwnerType</span></a></span></span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">Pl.TxOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#Credential"><span class="hs-identifier hs-type">Pl.Credential</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatumType"><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-var">DatumType</span></a></span></span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">Pl.TxOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-type">Pl.OutputDatum</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ValueType"><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-var">ValueType</span></a></span></span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">Pl.TxOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Value.html#Value"><span class="hs-identifier hs-type">Pl.Value</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ReferenceScriptType"><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-var">ReferenceScriptType</span></a></span></span><span> </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#TxOut"><span class="hs-identifier hs-type">Pl.TxOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ScriptHash"><span class="hs-identifier hs-type">Pl.ScriptHash</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span id="local-6989586621679638140"><span class="annot"><span class="annottext">outputOwnerL :: Lens' TxOut (OwnerType TxOut)
</span><a href="#local-6989586621679638140"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputOwnerL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-185"></span><span>    </span><span class="annot"><span class="annottext">LensVL TxOut TxOut Address Address
-&gt; Lens TxOut TxOut Address Address
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut Address Address
</span><a href="../Plutus.V2.Ledger.Tx.html#outAddress"><span class="hs-identifier hs-var">Pl.outAddress</span></a></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><span class="annottext">Lens TxOut TxOut Address Address
-&gt; Optic A_Lens NoIx Address Address Credential Credential
-&gt; Optic A_Lens NoIx TxOut TxOut Credential Credential
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="../Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Credential)
-&gt; (Address -&gt; Credential -&gt; Address)
-&gt; Optic A_Lens NoIx Address Address Credential Credential
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span>
</span><span id="line-187"></span><span>        </span><span class="annot"><span class="annottext">Address -&gt; Credential
</span><a href="../Plutus.V1.Ledger.Address.html#addressCredential"><span class="hs-identifier hs-var hs-var">Pl.addressCredential</span></a></span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679638134"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679638134"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621679638133"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679638133"><span class="hs-identifier hs-var">cred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679638134"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">addressCredential :: Credential
</span><a href="../Plutus.V1.Ledger.Address.html#addressCredential"><span class="hs-identifier hs-var">Pl.addressCredential</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679638133"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>  </span><span id="local-6989586621679638132"><span class="annot"><span class="annottext">outputDatumL :: Lens' TxOut (DatumType TxOut)
</span><a href="#local-6989586621679638132"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputDatumL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut OutputDatum OutputDatum
-&gt; Lens TxOut TxOut OutputDatum OutputDatum
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut OutputDatum OutputDatum
</span><a href="../Plutus.V2.Ledger.Tx.html#outDatum"><span class="hs-identifier hs-var">Pl.outDatum</span></a></span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679638130"><span class="annot"><span class="annottext">outputStakingCredentialL :: Lens' TxOut (Maybe StakingCredential)
</span><a href="#local-6989586621679638130"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputStakingCredentialL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><span class="annottext">(TxOut -&gt; Maybe StakingCredential)
-&gt; (TxOut -&gt; Maybe StakingCredential -&gt; TxOut)
-&gt; Lens' TxOut (Maybe StakingCredential)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; Maybe StakingCredential
</span><a href="../Plutus.V1.Ledger.Address.html#addressStakingCredential"><span class="hs-identifier hs-var hs-var">Pl.addressStakingCredential</span></a></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Maybe StakingCredential)
-&gt; (TxOut -&gt; Address) -&gt; TxOut -&gt; Maybe StakingCredential
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Address
</span><a href="../Plutus.V2.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var hs-var">Pl.txOutAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679638127"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679638127"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679638126"><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638126"><span class="hs-identifier hs-var">mStCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-194"></span><span>          </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679638127"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: Address
</span><a href="../Plutus.V2.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var">Pl.txOutAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; Address
</span><a href="../Plutus.V2.Ledger.Tx.html#txOutAddress"><span class="hs-identifier hs-var hs-var">Pl.txOutAddress</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621679638127"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">addressStakingCredential :: Maybe StakingCredential
</span><a href="../Plutus.V1.Ledger.Address.html#addressStakingCredential"><span class="hs-identifier hs-var">Pl.addressStakingCredential</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638126"><span class="hs-identifier hs-var">mStCred</span></a></span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-195"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>  </span><span id="local-6989586621679638125"><span class="annot"><span class="annottext">outputValueL :: Lens' TxOut (ValueType TxOut)
</span><a href="#local-6989586621679638125"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputValueL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut Value Value -&gt; Lens TxOut TxOut Value Value
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut Value Value
</span><a href="../Plutus.V2.Ledger.Tx.html#outValue"><span class="hs-identifier hs-var">Pl.outValue</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621679638123"><span class="annot"><span class="annottext">outputReferenceScriptL :: Lens' TxOut (Maybe (ReferenceScriptType TxOut))
</span><a href="#local-6989586621679638123"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputReferenceScriptL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut (Maybe ScriptHash) (Maybe ScriptHash)
-&gt; Lens TxOut TxOut (Maybe ScriptHash) (Maybe ScriptHash)
forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="annot"><span class="annottext">LensVL TxOut TxOut (Maybe ScriptHash) (Maybe ScriptHash)
</span><a href="../Plutus.V2.Ledger.Tx.html#outReferenceScript"><span class="hs-identifier hs-var">Pl.outReferenceScript</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">-- * A concrete type for outputs</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | A type constructed to be the most general instance of 'IsAbstractOutput'.</span><span>
</span><span id="line-202"></span><span class="hs-keyword">data</span><span> </span><span id="ConcreteOutput"><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span></span><span> </span><span id="local-6989586621679638121"><span class="annot"><a href="#local-6989586621679638121"><span class="hs-identifier hs-type">ownerType</span></a></span></span><span> </span><span id="local-6989586621679638120"><span class="annot"><a href="#local-6989586621679638120"><span class="hs-identifier hs-type">datumType</span></a></span></span><span> </span><span id="local-6989586621679638119"><span class="annot"><a href="#local-6989586621679638119"><span class="hs-identifier hs-type">valueType</span></a></span></span><span> </span><span id="local-6989586621679638118"><span class="annot"><a href="#local-6989586621679638118"><span class="hs-identifier hs-type">referenceScriptType</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679638264"><span id="local-6989586621679638265"><span id="local-6989586621679638266"><span id="local-6989586621679638267"><span id="ConcreteOutput"><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="concreteOutputOwner"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; ownerType
</span><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var hs-var">concreteOutputOwner</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638267"><span class="hs-identifier hs-type">ownerType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-205"></span><span>      </span><span id="concreteOutputStakingCredential"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe StakingCredential
</span><a href="Cooked.Output.html#concreteOutputStakingCredential"><span class="hs-identifier hs-var hs-var">concreteOutputStakingCredential</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#StakingCredential"><span class="hs-identifier hs-type">Pl.StakingCredential</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-206"></span><span>      </span><span id="concreteOutputValue"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; valueType
</span><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var hs-var">concreteOutputValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638265"><span class="hs-identifier hs-type">valueType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-207"></span><span>      </span><span id="concreteOutputDatum"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; datumType
</span><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var hs-var">concreteOutputDatum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638266"><span class="hs-identifier hs-type">datumType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-208"></span><span>      </span><span id="concreteOutputReferenceScript"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe referenceScriptType
</span><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var hs-var">concreteOutputReferenceScript</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638264"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638267"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638266"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638265"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638264"><span class="hs-identifier hs-type">referenceScriptType</span></a></span></span></span></span></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span id="local-6989586621679638103"><span id="local-6989586621679638105"><span id="local-6989586621679638107"><span id="local-6989586621679638109"><span id="local-6989586621679638110"><span id="local-6989586621679638111"><span id="local-6989586621679638112"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638112"><span class="hs-identifier hs-type">ownerType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638111"><span class="hs-identifier hs-type">datumType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638110"><span class="hs-identifier hs-type">valueType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638109"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638112"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638111"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638110"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638109"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span id="local-6989586621679638094"><span id="local-6989586621679638096"><span id="local-6989586621679638098"><span id="local-6989586621679638099"><span id="local-6989586621679638100"><span id="local-6989586621679638101"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638101"><span class="hs-identifier hs-type">ownerType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638100"><span class="hs-identifier hs-type">datumType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638099"><span class="hs-identifier hs-type">valueType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638098"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638101"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638100"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638099"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638098"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span id="local-6989586621679638089"><span id="local-6989586621679638090"><span id="local-6989586621679638091"><span id="local-6989586621679638092"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638091"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638090"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638089"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="OwnerType"><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-var">OwnerType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638091"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638090"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638089"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">ownerType</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DatumType"><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-var">DatumType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638091"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638090"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638089"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679638091"><span class="hs-identifier hs-type">datumType</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ValueType"><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-var">ValueType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638091"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638090"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638089"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679638090"><span class="hs-identifier hs-type">valueType</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ReferenceScriptType"><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-var">ReferenceScriptType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">ownerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638091"><span class="hs-identifier hs-type">datumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638090"><span class="hs-identifier hs-type">valueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638089"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679638089"><span class="hs-identifier hs-type">referenceScriptType</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621679638083"><span class="annot"><span class="annottext">outputOwnerL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (OwnerType
     (ConcreteOutput ownerType datumType valueType referenceScriptType))
</span><a href="#local-6989586621679638083"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputOwnerL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; ownerType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; ownerType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     ownerType
     ownerType
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; ownerType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; ownerType
</span><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679638082"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638082"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679638081"><span class="annot"><span class="annottext">ownerType
</span><a href="#local-6989586621679638081"><span class="hs-identifier hs-var">owner</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638082"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">concreteOutputOwner :: ownerType
</span><a href="Cooked.Output.html#concreteOutputOwner"><span class="hs-identifier hs-var">concreteOutputOwner</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ownerType
</span><a href="#local-6989586621679638081"><span class="hs-identifier hs-var">owner</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621679638080"><span class="annot"><span class="annottext">outputStakingCredentialL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (Maybe StakingCredential)
</span><a href="#local-6989586621679638080"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputStakingCredentialL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; Maybe StakingCredential)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; Maybe StakingCredential
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens'
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (Maybe StakingCredential)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe StakingCredential
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe StakingCredential
</span><a href="Cooked.Output.html#concreteOutputStakingCredential"><span class="hs-identifier hs-var hs-var">concreteOutputStakingCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679638079"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638079"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679638078"><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638078"><span class="hs-identifier hs-var">mStCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638079"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">concreteOutputStakingCredential :: Maybe StakingCredential
</span><a href="Cooked.Output.html#concreteOutputStakingCredential"><span class="hs-identifier hs-var">concreteOutputStakingCredential</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638078"><span class="hs-identifier hs-var">mStCred</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>  </span><span id="local-6989586621679638077"><span class="annot"><span class="annottext">outputDatumL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (DatumType
     (ConcreteOutput ownerType datumType valueType referenceScriptType))
</span><a href="#local-6989586621679638077"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputDatumL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; datumType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; datumType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     datumType
     datumType
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; datumType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; datumType
</span><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679638076"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638076"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679638075"><span class="annot"><span class="annottext">datumType
</span><a href="#local-6989586621679638075"><span class="hs-identifier hs-var">datum</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638076"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">concreteOutputDatum :: datumType
</span><a href="Cooked.Output.html#concreteOutputDatum"><span class="hs-identifier hs-var">concreteOutputDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">datumType
</span><a href="#local-6989586621679638075"><span class="hs-identifier hs-var">datum</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>  </span><span id="local-6989586621679638074"><span class="annot"><span class="annottext">outputValueL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (ValueType
     (ConcreteOutput ownerType datumType valueType referenceScriptType))
</span><a href="#local-6989586621679638074"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputValueL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; valueType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; valueType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     valueType
     valueType
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; valueType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; valueType
</span><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var hs-var">concreteOutputValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679638073"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638073"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679638072"><span class="annot"><span class="annottext">valueType
</span><a href="#local-6989586621679638072"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638073"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">concreteOutputValue :: valueType
</span><a href="Cooked.Output.html#concreteOutputValue"><span class="hs-identifier hs-var">concreteOutputValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">valueType
</span><a href="#local-6989586621679638072"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621679638071"><span class="annot"><span class="annottext">outputReferenceScriptL :: Lens'
  (ConcreteOutput ownerType datumType valueType referenceScriptType)
  (Maybe
     (ReferenceScriptType
        (ConcreteOutput
           ownerType datumType valueType referenceScriptType)))
</span><a href="#local-6989586621679638071"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputReferenceScriptL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput ownerType datumType valueType referenceScriptType
 -&gt; Maybe referenceScriptType)
-&gt; (ConcreteOutput
      ownerType datumType valueType referenceScriptType
    -&gt; Maybe referenceScriptType
    -&gt; ConcreteOutput
         ownerType datumType valueType referenceScriptType)
-&gt; Lens
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (ConcreteOutput ownerType datumType valueType referenceScriptType)
     (Maybe referenceScriptType)
     (Maybe referenceScriptType)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="../Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe referenceScriptType
forall ownerType datumType valueType referenceScriptType.
ConcreteOutput ownerType datumType valueType referenceScriptType
-&gt; Maybe referenceScriptType
</span><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var hs-var">concreteOutputReferenceScript</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679638070"><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638070"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span id="local-6989586621679638069"><span class="annot"><span class="annottext">Maybe referenceScriptType
</span><a href="#local-6989586621679638069"><span class="hs-identifier hs-var">mRefScript</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="#local-6989586621679638070"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">concreteOutputReferenceScript :: Maybe referenceScriptType
</span><a href="Cooked.Output.html#concreteOutputReferenceScript"><span class="hs-identifier hs-var">concreteOutputReferenceScript</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe referenceScriptType
</span><a href="#local-6989586621679638069"><span class="hs-identifier hs-var">mRefScript</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">-- * Functions to translate between different output types</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- ** Filtering on the datum</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Test if there is no datum on an output.</span><span>
</span><span id="line-232"></span><span id="local-6989586621679638068"><span class="annot"><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier hs-type">isOutputWithoutDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638068"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-234"></span><span>  </span><span class="annot"><a href="#local-6989586621679638068"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638068"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638068"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638068"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-236"></span><span id="isOutputWithoutDatum"><span class="annot"><span class="annottext">isOutputWithoutDatum :: output
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        ()
        (ValueType output)
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isOutputWithoutDatum"><span class="hs-identifier hs-var hs-var">isOutputWithoutDatum</span></a></span></span><span> </span><span id="local-6989586621679638067"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638067"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">output -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638067"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><span class="annottext">OutputDatum
</span><a href="../Plutus.V2.Ledger.Tx.html#NoOutputDatum"><span class="hs-identifier hs-var">Pl.NoOutputDatum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType output)
  ()
  (ValueType output)
  (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        ()
        (ValueType output)
        (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType output)
   ()
   (ValueType output)
   (ReferenceScriptType output)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType output)
         ()
         (ValueType output)
         (ReferenceScriptType output)))
-&gt; ConcreteOutput
     (OwnerType output)
     ()
     (ValueType output)
     (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        ()
        (ValueType output)
        (ReferenceScriptType output))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><span class="annottext">OwnerType output
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; ()
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     (OwnerType output)
     ()
     (ValueType output)
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638067"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (OwnerType output) -&gt; OwnerType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (OwnerType output)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638067"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638067"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638067"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>  </span><span class="annot"><span class="annottext">OutputDatum
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType output)
     ()
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-comment">-- | Test if the output carries some inlined datum that can be parsed from</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- builtin data on to something of a specific type.</span><span>
</span><span id="line-249"></span><span id="local-6989586621679638065"><span id="local-6989586621679638066"><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier hs-type">isOutputWithInlineDatumOfType</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../PlutusTx.IsData.Class.html#FromData"><span class="hs-identifier hs-type">Pl.FromData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638066"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638065"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><a href="#local-6989586621679638065"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638065"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638066"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638065"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638065"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-253"></span><span id="isOutputWithInlineDatumOfType"><span class="annot"><span class="annottext">isOutputWithInlineDatumOfType :: output
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        a
        (ValueType output)
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isOutputWithInlineDatumOfType"><span class="hs-identifier hs-var hs-var">isOutputWithInlineDatumOfType</span></a></span></span><span> </span><span id="local-6989586621679638064"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638064"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">output -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638064"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-type">Pl.OutputDatum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Pl.Datum</span></a></span><span> </span><span id="local-6989586621679638063"><span class="annot"><span class="annottext">BuiltinData
</span><a href="#local-6989586621679638063"><span class="hs-identifier hs-var">datum</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>      </span><span class="annot"><span class="annottext">OwnerType output
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; a
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     (OwnerType output)
     a
     (ValueType output)
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-257"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638064"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (OwnerType output) -&gt; OwnerType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (OwnerType output)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638064"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638064"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">(a
 -&gt; Maybe (ReferenceScriptType output)
 -&gt; ConcreteOutput
      (OwnerType output)
      a
      (ValueType output)
      (ReferenceScriptType output))
-&gt; Maybe a
-&gt; Maybe
     (Maybe (ReferenceScriptType output)
      -&gt; ConcreteOutput
           (OwnerType output)
           a
           (ValueType output)
           (ReferenceScriptType output))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; Maybe a
forall a. FromData a =&gt; BuiltinData -&gt; Maybe a
</span><a href="../PlutusTx.IsData.Class.html#fromBuiltinData"><span class="hs-identifier hs-var">Pl.fromBuiltinData</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData
</span><a href="#local-6989586621679638063"><span class="hs-identifier hs-var">datum</span></a></span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><span class="annottext">Maybe
  (Maybe (ReferenceScriptType output)
   -&gt; ConcreteOutput
        (OwnerType output)
        a
        (ValueType output)
        (ReferenceScriptType output))
-&gt; Maybe (Maybe (ReferenceScriptType output))
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        a
        (ValueType output)
        (ReferenceScriptType output))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (ReferenceScriptType output)
-&gt; Maybe (Maybe (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638064"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><span class="annottext">OutputDatum
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType output)
     a
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-comment">-- | Test if the output carries some inlined datum.</span><span>
</span><span id="line-265"></span><span id="local-6989586621679638061"><span class="annot"><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier hs-type">isOutputWithInlineDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638061"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><a href="#local-6989586621679638061"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638061"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Pl.Datum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638061"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638061"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-269"></span><span id="isOutputWithInlineDatum"><span class="annot"><span class="annottext">isOutputWithInlineDatum :: output
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        Datum
        (ValueType output)
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isOutputWithInlineDatum"><span class="hs-identifier hs-var hs-var">isOutputWithInlineDatum</span></a></span></span><span> </span><span id="local-6989586621679638060"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638060"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">output -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638060"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-271"></span><span>    </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatum"><span class="hs-identifier hs-type">Pl.OutputDatum</span></a></span><span> </span><span id="local-6989586621679638059"><span class="annot"><span class="annottext">datum :: Datum
</span><a href="#local-6989586621679638059"><span class="hs-identifier hs-var">datum</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#Datum"><span class="hs-identifier hs-type">Pl.Datum</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinData
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-272"></span><span>      </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType output)
  Datum
  (ValueType output)
  (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        Datum
        (ValueType output)
        (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType output)
   Datum
   (ValueType output)
   (ReferenceScriptType output)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType output)
         Datum
         (ValueType output)
         (ReferenceScriptType output)))
-&gt; ConcreteOutput
     (OwnerType output)
     Datum
     (ValueType output)
     (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        Datum
        (ValueType output)
        (ReferenceScriptType output))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span class="annot"><span class="annottext">OwnerType output
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; Datum
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     (OwnerType output)
     Datum
     (ValueType output)
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-274"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638060"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (OwnerType output) -&gt; OwnerType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (OwnerType output)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638060"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638060"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>          </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679638059"><span class="hs-identifier hs-var">datum</span></a></span><span>
</span><span id="line-278"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638060"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="annottext">OutputDatum
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType output)
     Datum
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-comment">-- | Test if the output carries some datum hash.</span><span>
</span><span id="line-282"></span><span id="local-6989586621679638058"><span class="annot"><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier hs-type">isOutputWithDatumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638058"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><a href="#local-6989586621679638058"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638058"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#DatumHash"><span class="hs-identifier hs-type">Pl.DatumHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638058"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638058"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-286"></span><span id="isOutputWithDatumHash"><span class="annot"><span class="annottext">isOutputWithDatumHash :: output
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        DatumHash
        (ValueType output)
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isOutputWithDatumHash"><span class="hs-identifier hs-var hs-var">isOutputWithDatumHash</span></a></span></span><span> </span><span id="local-6989586621679638057"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638057"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">output -&gt; OutputDatum
forall o.
(IsAbstractOutput o, ToOutputDatum (DatumType o)) =&gt;
o -&gt; OutputDatum
</span><a href="Cooked.Output.html#outputOutputDatum"><span class="hs-identifier hs-var">outputOutputDatum</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638057"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><a href="../Plutus.V2.Ledger.Tx.html#OutputDatumHash"><span class="hs-identifier hs-type">Pl.OutputDatumHash</span></a></span><span> </span><span id="local-6989586621679638056"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679638056"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-289"></span><span>      </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType output)
  DatumHash
  (ValueType output)
  (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        DatumHash
        (ValueType output)
        (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType output)
   DatumHash
   (ValueType output)
   (ReferenceScriptType output)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType output)
         DatumHash
         (ValueType output)
         (ReferenceScriptType output)))
-&gt; ConcreteOutput
     (OwnerType output)
     DatumHash
     (ValueType output)
     (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        DatumHash
        (ValueType output)
        (ReferenceScriptType output))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="annottext">OwnerType output
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; DatumHash
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     (OwnerType output)
     DatumHash
     (ValueType output)
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-291"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638057"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (OwnerType output) -&gt; OwnerType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (OwnerType output)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; Maybe StakingCredential
</span><a href="../Plutus.V1.Ledger.Address.html#addressStakingCredential"><span class="hs-identifier hs-var hs-var">Pl.addressStakingCredential</span></a></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Maybe StakingCredential)
-&gt; (output -&gt; Address) -&gt; output -&gt; Maybe StakingCredential
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">output -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(output -&gt; Maybe StakingCredential)
-&gt; output -&gt; Maybe StakingCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638057"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638057"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>          </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621679638056"><span class="hs-identifier hs-var">hash</span></a></span><span>
</span><span id="line-295"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638057"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><span class="annottext">OutputDatum
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType output)
     DatumHash
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- ** Filtering on the owner</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="hs-comment">-- | Test if the owner of an output is a specific typed validator. If it is,</span><span>
</span><span id="line-301"></span><span class="hs-comment">-- return an output with the validator type as its 'OwnerType'.</span><span>
</span><span id="line-302"></span><span id="local-6989586621679638054"><span id="local-6989586621679638055"><span class="annot"><a href="Cooked.Output.html#isScriptOutputFrom"><span class="hs-identifier hs-type">isScriptOutputFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638055"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-304"></span><span>  </span><span class="annot"><a href="../Plutus.Script.Utils.Typed.html#TypedValidator"><span class="hs-identifier hs-type">Pl.TypedValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638054"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><a href="#local-6989586621679638055"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-306"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.Script.Utils.Typed.html#TypedValidator"><span class="hs-identifier hs-type">Pl.TypedValidator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638054"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638055"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638055"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638055"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-307"></span><span id="isScriptOutputFrom"><span class="annot"><span class="annottext">isScriptOutputFrom :: TypedValidator a
-&gt; output
-&gt; Maybe
     (ConcreteOutput
        (TypedValidator a)
        (DatumType output)
        (ValueType output)
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isScriptOutputFrom"><span class="hs-identifier hs-var hs-var">isScriptOutputFrom</span></a></span></span><span> </span><span id="local-6989586621679638053"><span class="annot"><span class="annottext">TypedValidator a
</span><a href="#local-6989586621679638053"><span class="hs-identifier hs-var">validator</span></a></span></span><span> </span><span id="local-6989586621679638052"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638052"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">output -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638052"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><a href="../Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-type">Pl.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#ScriptCredential"><span class="hs-identifier hs-type">Pl.ScriptCredential</span></a></span><span> </span><span id="local-6989586621679638051"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679638051"><span class="hs-identifier hs-var">scriptHash</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679638050"><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638050"><span class="hs-identifier hs-var">mStCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621679638051"><span class="hs-identifier hs-var">scriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatorHash -&gt; ValidatorHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TypedValidator a -&gt; ValidatorHash
forall a. TypedValidator a -&gt; ValidatorHash
</span><a href="../Plutus.Script.Utils.Typed.html#validatorHash"><span class="hs-identifier hs-var">Pl.validatorHash</span></a></span><span> </span><span class="annot"><span class="annottext">TypedValidator a
</span><a href="#local-6989586621679638053"><span class="hs-identifier hs-var">validator</span></a></span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-keyword">then</span><span>
</span><span id="line-312"></span><span>          </span><span class="annot"><span class="annottext">ConcreteOutput
  (TypedValidator a)
  (DatumType output)
  (ValueType output)
  (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (TypedValidator a)
        (DatumType output)
        (ValueType output)
        (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (TypedValidator a)
   (DatumType output)
   (ValueType output)
   (ReferenceScriptType output)
 -&gt; Maybe
      (ConcreteOutput
         (TypedValidator a)
         (DatumType output)
         (ValueType output)
         (ReferenceScriptType output)))
-&gt; ConcreteOutput
     (TypedValidator a)
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (TypedValidator a)
        (DatumType output)
        (ValueType output)
        (ReferenceScriptType output))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-313"></span><span>            </span><span class="annot"><span class="annottext">TypedValidator a
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; DatumType output
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     (TypedValidator a)
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-314"></span><span>              </span><span class="annot"><span class="annottext">TypedValidator a
</span><a href="#local-6989586621679638053"><span class="hs-identifier hs-var">validator</span></a></span><span>
</span><span id="line-315"></span><span>              </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638050"><span class="hs-identifier hs-var">mStCred</span></a></span><span>
</span><span id="line-316"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638052"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638052"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (DatumType output) -&gt; DatumType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (DatumType output)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638052"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (TypedValidator a)
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">Address
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (TypedValidator a)
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-comment">-- | Test if the owner of an output is a specific public key. If it is, return</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- an output of the same 'DatumType', but with 'Pl.PubKeyHash' as its</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- 'OwnerType'.</span><span>
</span><span id="line-325"></span><span id="local-6989586621679638049"><span class="annot"><a href="Cooked.Output.html#isPKOutputFrom"><span class="hs-identifier hs-type">isPKOutputFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638049"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><a href="../Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">Pl.PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-328"></span><span>  </span><span class="annot"><a href="#local-6989586621679638049"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-329"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">Pl.PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638049"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638049"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638049"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-330"></span><span id="isPKOutputFrom"><span class="annot"><span class="annottext">isPKOutputFrom :: PubKeyHash
-&gt; output
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType output)
        (ValueType output)
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isPKOutputFrom"><span class="hs-identifier hs-var hs-var">isPKOutputFrom</span></a></span></span><span> </span><span id="local-6989586621679638048"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679638048"><span class="hs-identifier hs-var">pkh</span></a></span></span><span> </span><span id="local-6989586621679638047"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638047"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">output -&gt; Address
forall o.
(IsAbstractOutput o, ToCredential (OwnerType o)) =&gt;
o -&gt; Address
</span><a href="Cooked.Output.html#outputAddress"><span class="hs-identifier hs-var">outputAddress</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638047"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-331"></span><span>  </span><span class="annot"><a href="../Plutus.V1.Ledger.Address.html#Address"><span class="hs-identifier hs-type">Pl.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../Plutus.V1.Ledger.Credential.html#PubKeyCredential"><span class="hs-identifier hs-type">Pl.PubKeyCredential</span></a></span><span> </span><span id="local-6989586621679638046"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679638046"><span class="hs-identifier hs-var">pkh'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679638045"><span class="annot"><span class="annottext">Maybe StakingCredential
</span><a href="#local-6989586621679638045"><span class="hs-identifier hs-var">_mStCred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679638048"><span class="hs-identifier hs-var">pkh</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679638046"><span class="hs-identifier hs-var">pkh'</span></a></span><span>
</span><span id="line-333"></span><span>      </span><span class="hs-keyword">then</span><span>
</span><span id="line-334"></span><span>        </span><span class="annot"><span class="annottext">ConcreteOutput
  PubKeyHash
  (DatumType output)
  (ValueType output)
  (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType output)
        (ValueType output)
        (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   PubKeyHash
   (DatumType output)
   (ValueType output)
   (ReferenceScriptType output)
 -&gt; Maybe
      (ConcreteOutput
         PubKeyHash
         (DatumType output)
         (ValueType output)
         (ReferenceScriptType output)))
-&gt; ConcreteOutput
     PubKeyHash
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        PubKeyHash
        (DatumType output)
        (ValueType output)
        (ReferenceScriptType output))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-335"></span><span>          </span><span class="annot"><span class="annottext">PubKeyHash
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; DatumType output
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     PubKeyHash
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-336"></span><span>            </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621679638048"><span class="hs-identifier hs-var">pkh</span></a></span><span>
</span><span id="line-337"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638047"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638047"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638047"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (DatumType output) -&gt; DatumType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (DatumType output)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638047"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     PubKeyHash
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><span class="annottext">Address
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     PubKeyHash
     (DatumType output)
     (ValueType output)
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-comment">-- ** Filtering on the value</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">-- | Test if the value on an output contains only Ada.</span><span>
</span><span id="line-347"></span><span id="local-6989586621679638044"><span class="annot"><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier hs-type">isOnlyAdaOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsTxInfoOutput"><span class="hs-identifier hs-type">IsTxInfoOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638044"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-349"></span><span>  </span><span class="annot"><a href="#local-6989586621679638044"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-350"></span><span>  </span><span class="annot"><a href="../GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638044"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638044"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../Plutus.Script.Utils.Ada.html#Ada"><span class="hs-identifier hs-type">Pl.Ada</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638044"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-351"></span><span id="isOnlyAdaOutput"><span class="annot"><span class="annottext">isOnlyAdaOutput :: output
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        (DatumType output)
        Ada
        (ReferenceScriptType output))
</span><a href="Cooked.Output.html#isOnlyAdaOutput"><span class="hs-identifier hs-var hs-var">isOnlyAdaOutput</span></a></span></span><span> </span><span id="local-6989586621679638043"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Bool
</span><a href="../Plutus.Script.Utils.Value.html#isAdaOnlyValue"><span class="hs-identifier hs-var">Pl.isAdaOnlyValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output -&gt; Value
forall o. (IsAbstractOutput o, ToValue (ValueType o)) =&gt; o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var">outputValue</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-keyword">then</span><span>
</span><span id="line-354"></span><span>      </span><span class="annot"><span class="annottext">ConcreteOutput
  (OwnerType output)
  (DatumType output)
  Ada
  (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        (DatumType output)
        Ada
        (ReferenceScriptType output))
forall a. a -&gt; Maybe a
</span><a href="../GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ConcreteOutput
   (OwnerType output)
   (DatumType output)
   Ada
   (ReferenceScriptType output)
 -&gt; Maybe
      (ConcreteOutput
         (OwnerType output)
         (DatumType output)
         Ada
         (ReferenceScriptType output)))
-&gt; ConcreteOutput
     (OwnerType output)
     (DatumType output)
     Ada
     (ReferenceScriptType output)
-&gt; Maybe
     (ConcreteOutput
        (OwnerType output)
        (DatumType output)
        Ada
        (ReferenceScriptType output))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-355"></span><span>        </span><span class="annot"><span class="annottext">OwnerType output
-&gt; Maybe StakingCredential
-&gt; Ada
-&gt; DatumType output
-&gt; Maybe (ReferenceScriptType output)
-&gt; ConcreteOutput
     (OwnerType output)
     (DatumType output)
     Ada
     (ReferenceScriptType output)
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-356"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (OwnerType output) -&gt; OwnerType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (OwnerType output)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; Ada
</span><a href="../Plutus.Script.Utils.Ada.html#fromValue"><span class="hs-identifier hs-var">Pl.fromValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Ada) -&gt; Value -&gt; Ada
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">output -&gt; Value
forall o. (IsAbstractOutput o, ToValue (ValueType o)) =&gt; o -&gt; Value
</span><a href="Cooked.Output.html#outputValue"><span class="hs-identifier hs-var">outputValue</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (DatumType output) -&gt; DatumType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (DatumType output)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638043"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe
  (ConcreteOutput
     (OwnerType output)
     (DatumType output)
     Ada
     (ReferenceScriptType output))
forall a. Maybe a
</span><a href="../GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-comment">-- ** Filtering on the reference script</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">-- | Convert the reference script type on the output to 'Pl.ScriptHash'.</span><span>
</span><span id="line-366"></span><span id="local-6989586621679638040"><span class="annot"><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier hs-type">toOutputWithReferenceScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#IsAbstractOutput"><span class="hs-identifier hs-type">IsAbstractOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638040"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cooked.Output.html#ToScriptHash"><span class="hs-identifier hs-type">ToScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ReferenceScriptType"><span class="hs-identifier hs-type">ReferenceScriptType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638040"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><a href="#local-6989586621679638040"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-369"></span><span>  </span><span class="annot"><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-type">ConcreteOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#OwnerType"><span class="hs-identifier hs-type">OwnerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638040"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#DatumType"><span class="hs-identifier hs-type">DatumType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638040"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cooked.Output.html#ValueType"><span class="hs-identifier hs-type">ValueType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638040"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../Plutus.V1.Ledger.Scripts.html#ScriptHash"><span class="hs-identifier hs-type">Pl.ScriptHash</span></a></span></span><span>
</span><span id="line-370"></span><span id="toOutputWithReferenceScriptHash"><span class="annot"><span class="annottext">toOutputWithReferenceScriptHash :: output
-&gt; ConcreteOutput
     (OwnerType output) (DatumType output) (ValueType output) ScriptHash
</span><a href="Cooked.Output.html#toOutputWithReferenceScriptHash"><span class="hs-identifier hs-var hs-var">toOutputWithReferenceScriptHash</span></a></span></span><span> </span><span id="local-6989586621679638039"><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638039"><span class="hs-identifier hs-var">out</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><span class="annottext">OwnerType output
-&gt; Maybe StakingCredential
-&gt; ValueType output
-&gt; DatumType output
-&gt; Maybe ScriptHash
-&gt; ConcreteOutput
     (OwnerType output) (DatumType output) (ValueType output) ScriptHash
forall ownerType valueType datumType referenceScriptType.
ownerType
-&gt; Maybe StakingCredential
-&gt; valueType
-&gt; datumType
-&gt; Maybe referenceScriptType
-&gt; ConcreteOutput ownerType datumType valueType referenceScriptType
</span><a href="Cooked.Output.html#ConcreteOutput"><span class="hs-identifier hs-var">ConcreteOutput</span></a></span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638039"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (OwnerType output) -&gt; OwnerType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (OwnerType output)
forall o. IsAbstractOutput o =&gt; Lens' o (OwnerType o)
</span><a href="Cooked.Output.html#outputOwnerL"><span class="hs-identifier hs-var">outputOwnerL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638039"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe StakingCredential)
-&gt; Maybe StakingCredential
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe StakingCredential)
forall o. IsAbstractOutput o =&gt; Lens' o (Maybe StakingCredential)
</span><a href="Cooked.Output.html#outputStakingCredentialL"><span class="hs-identifier hs-var">outputStakingCredentialL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638039"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (ValueType output) -&gt; ValueType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (ValueType output)
forall o. IsAbstractOutput o =&gt; Lens' o (ValueType o)
</span><a href="Cooked.Output.html#outputValueL"><span class="hs-identifier hs-var">outputValueL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638039"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (DatumType output) -&gt; DatumType output
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (DatumType output)
forall o. IsAbstractOutput o =&gt; Lens' o (DatumType o)
</span><a href="Cooked.Output.html#outputDatumL"><span class="hs-identifier hs-var">outputDatumL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReferenceScriptType output -&gt; ScriptHash
forall a. ToScriptHash a =&gt; a -&gt; ScriptHash
</span><a href="Cooked.Output.html#toScriptHash"><span class="hs-identifier hs-var">toScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">(ReferenceScriptType output -&gt; ScriptHash)
-&gt; Maybe (ReferenceScriptType output) -&gt; Maybe ScriptHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">output
</span><a href="#local-6989586621679638039"><span class="hs-identifier hs-var">out</span></a></span><span> </span><span class="annot"><span class="annottext">output
-&gt; Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
-&gt; Maybe (ReferenceScriptType output)
forall k s (is :: IxList) a.
Is k A_Getter =&gt;
s -&gt; Optic' k is s a -&gt; a
</span><a href="../Optics.Operators.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' A_Lens NoIx output (Maybe (ReferenceScriptType output))
forall o.
IsAbstractOutput o =&gt;
Lens' o (Maybe (ReferenceScriptType o))
</span><a href="Cooked.Output.html#outputReferenceScriptL"><span class="hs-identifier hs-var">outputReferenceScriptL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span></pre></body></html>