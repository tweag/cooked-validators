<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.MockChain.MinAda</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators-4.0.0</span><ul class="links" id="page-menu"><li><a href="src/Cooked.MockChain.MinAda.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.MockChain.MinAda</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides functions to ensure skeleton outputs contain enough
 ada to satisfy the minimum ada constraint.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:toTxSkelOutWithMinAda">toTxSkelOutWithMinAda</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a> -&gt; <a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> <a href="Cooked-MockChain-GenerateTx-Common.html#t:GenerateTxError" title="Cooked.MockChain.GenerateTx.Common">GenerateTxError</a> <a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a></li><li class="src short"><a href="#v:toTxSkelWithMinAda">toTxSkelWithMinAda</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; <a href="Cooked-Skeleton.html#t:TxSkel" title="Cooked.Skeleton">TxSkel</a> -&gt; m <a href="Cooked-Skeleton.html#t:TxSkel" title="Cooked.Skeleton">TxSkel</a></li><li class="src short"><a href="#v:getTxSkelOutMinAda">getTxSkelOutMinAda</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a> -&gt; <a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> <a href="Cooked-MockChain-GenerateTx-Common.html#t:GenerateTxError" title="Cooked.MockChain.GenerateTx.Common">GenerateTxError</a> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:toTxSkelOutWithMinAda" class="def">toTxSkelOutWithMinAda</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a> -&gt; <a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> <a href="Cooked-MockChain-GenerateTx-Common.html#t:GenerateTxError" title="Cooked.MockChain.GenerateTx.Common">GenerateTxError</a> <a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a> <a href="src/Cooked.MockChain.MinAda.html#toTxSkelOutWithMinAda" class="link">Source</a> <a href="#v:toTxSkelOutWithMinAda" class="selflink">#</a></p><div class="doc"><p>This transforms an output into another output which necessarily contains at
 least the minimal required ada. If the previous quantity of ada was
 sufficient, it remains unchanged. This requires an iterative process, as
 adding ada into an output can potentially increase its size and thus make it
 require more minimal ada (although this remains to be witnessed in practice).
 This approach was inspired by
 <a href="https://github.com/input-output-hk/plutus-apps/blob/8706e6c7c525b4973a7b6d2ed7c9d0ef9cd4ef46/plutus-ledger/src/Ledger/Index.hs#L124">https://github.com/input-output-hk/plutus-apps/blob/8706e6c7c525b4973a7b6d2ed7c9d0ef9cd4ef46/plutus-ledger/src/Ledger/Index.hs#L124</a></p></div></div><div class="top"><p class="src"><a id="v:toTxSkelWithMinAda" class="def">toTxSkelWithMinAda</a> :: <a href="Cooked-MockChain-BlockChain.html#t:MonadBlockChainBalancing" title="Cooked.MockChain.BlockChain">MonadBlockChainBalancing</a> m =&gt; <a href="Cooked-Skeleton.html#t:TxSkel" title="Cooked.Skeleton">TxSkel</a> -&gt; m <a href="Cooked-Skeleton.html#t:TxSkel" title="Cooked.Skeleton">TxSkel</a> <a href="src/Cooked.MockChain.MinAda.html#toTxSkelWithMinAda" class="link">Source</a> <a href="#v:toTxSkelWithMinAda" class="selflink">#</a></p><div class="doc"><p>This transforms a skeleton by replacing all its <code><a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a></code> by their
 updated variants with their minimal amount of required ada. Any error raised
 in the transformation process is transformed into an <code><a href="Cooked-MockChain-BlockChain.html#v:MCEGenerationError" title="Cooked.MockChain.BlockChain">MCEGenerationError</a></code></p></div></div><div class="top"><p class="src"><a id="v:getTxSkelOutMinAda" class="def">getTxSkelOutMinAda</a> :: <a href="https://hackage.haskell.org/package/-/docs/Cardano-Node-Emulator-Internal-Node-Params.html#t:Params" title="Cardano.Node.Emulator.Internal.Node.Params">Params</a> -&gt; <a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> <a href="Cooked-MockChain-GenerateTx-Common.html#t:GenerateTxError" title="Cooked.MockChain.GenerateTx.Common">GenerateTxError</a> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integer" title="Distribution.Compat.Prelude">Integer</a> <a href="src/Cooked.MockChain.MinAda.html#getTxSkelOutMinAda" class="link">Source</a> <a href="#v:getTxSkelOutMinAda" class="selflink">#</a></p><div class="doc"><p>This provides the minimum amount of ada required in a given <code><a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a></code>. As
 we need to transform our output into a Cardano output to compute this value,
 this function can fail.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>