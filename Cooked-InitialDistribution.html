<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cooked.InitialDistribution</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cooked-validators</span><ul class="links" id="page-menu"><li><a href="src/Cooked.InitialDistribution.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cooked.InitialDistribution</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a convenient way to spread assets between wallets and
 scripts at the initialization of the mock chain. These initial assets can be
 accompanied by datums, staking credentials and reference scripts.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:InitialDistribution">InitialDistribution</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:InitialDistribution">InitialDistribution</a> :: {..} -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></li></ul></li><li class="src short"><a href="#v:distributionFromList">distributionFromList</a> :: [(<a href="Cooked-Wallet.html#t:Wallet" title="Cooked.Wallet">Wallet</a>, [<a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:Value" title="PlutusLedgerApi.V1.Value">Value</a>])] -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></li><li class="src short"><a href="#v:toInitDistWithMinAda">toInitDistWithMinAda</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> <a href="Cooked-MockChain-GenerateTx-Common.html#t:GenerateTxError" title="Cooked.MockChain.GenerateTx.Common">GenerateTxError</a> <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></li><li class="src short"><a href="#v:unsafeToInitDistWithMinAda">unsafeToInitDistWithMinAda</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InitialDistribution" class="def">InitialDistribution</a> <span class="keyword">where</span> <a href="src/Cooked.InitialDistribution.html#InitialDistribution" class="link">Source</a> <a href="#t:InitialDistribution" class="selflink">#</a></p><div class="doc"><p>Describes the initial distribution of UTxOs per wallet. This is important
 since transaction validation must specify a <em>collateral</em>. Hence, wallets must
 have more than one UTxO to begin with in order to execute a transaction and
 have some collateral option. The <code>txCollateral</code> is transferred to the node
 operator in case the transaction fails to validate.</p><p>The following specifies a starting state where <code>wallet 1</code> owns two UTxOs,
  one with 42 Ada and one with 2 Ada and one <a href="TOK.html">TOK</a> token; <code>wallet 2</code> owns a
  single UTxO with 10 Ada and <code>wallet 3</code> has 10 Ada and a permanent value. See
  <a href="Cooked-Currencies.html">Cooked.Currencies</a> for more information on quick and permanent values.</p><pre>i0 = distributionFromList $
       [ (wallet 1 , [ ada 42 , ada 2 &lt;&gt; quickValue &quot;TOK&quot; 1 ]
       , (wallet 2 , [ ada 10 ])
       , (wallet 3 , [ ada 10 &lt;&gt; permanentValue &quot;XYZ&quot; 10])
       ]</pre><p>Note that initial distribution can lead to payments that would not be
 accepted if part of an actual transaction, such as payment without enough ada
 to sustain themselves.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InitialDistribution" class="def">InitialDistribution</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: { <a id="v:unInitialDistribution" class="def">unInitialDistribution</a> :: [<a href="Cooked-Skeleton.html#t:TxSkelOut" title="Cooked.Skeleton">TxSkelOut</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">&nbsp;&nbsp;&nbsp;} -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InitialDistribution">Instances</h4><details id="i:InitialDistribution" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitialDistribution:Monoid:1"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></span> <a href="src/Cooked.InitialDistribution.html#line-56" class="link">Source</a> <a href="#t:InitialDistribution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InitialDistribution:Monoid:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-InitialDistribution.html">Cooked.InitialDistribution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a>] -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitialDistribution:Semigroup:2"></span> <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Semigroup.html#t:Semigroup" title="Distribution.Compat.Semigroup">Semigroup</a> <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></span> <a href="src/Cooked.InitialDistribution.html#line-53" class="link">Source</a> <a href="#t:InitialDistribution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InitialDistribution:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-InitialDistribution.html">Cooked.InitialDistribution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:NonEmpty" title="Distribution.Compat.Prelude">NonEmpty</a> <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Integral" title="Distribution.Compat.Prelude">Integral</a> b =&gt; b -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InitialDistribution:Default:3"></span> <a href="https://hackage.haskell.org/package/-/docs/Data-Default.html#t:Default" title="Data.Default">Default</a> <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a></span> <a href="src/Cooked.InitialDistribution.html#line-50" class="link">Source</a> <a href="#t:InitialDistribution" class="selflink">#</a></td><td class="doc"><p>5 UTxOs with 100 Ada each, for each of the <code><a href="Cooked-Wallet.html#v:knownWallets" title="Cooked.Wallet">knownWallets</a></code></p></td></tr><tr><td colspan="2"><details id="i:id:InitialDistribution:Default:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cooked-InitialDistribution.html">Cooked.InitialDistribution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="#v:def" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:distributionFromList" class="def">distributionFromList</a> :: [(<a href="Cooked-Wallet.html#t:Wallet" title="Cooked.Wallet">Wallet</a>, [<a href="https://hackage.haskell.org/package/-/docs/PlutusLedgerApi-V1-Value.html#t:Value" title="PlutusLedgerApi.V1.Value">Value</a>])] -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="src/Cooked.InitialDistribution.html#distributionFromList" class="link">Source</a> <a href="#v:distributionFromList" class="selflink">#</a></p><div class="doc"><p>Creating a initial distribution with simple values assigned to wallets</p></div></div><div class="top"><p class="src"><a id="v:toInitDistWithMinAda" class="def">toInitDistWithMinAda</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="https://hackage.haskell.org/package/-/docs/Distribution-Compat-Prelude.html#t:Either" title="Distribution.Compat.Prelude">Either</a> <a href="Cooked-MockChain-GenerateTx-Common.html#t:GenerateTxError" title="Cooked.MockChain.GenerateTx.Common">GenerateTxError</a> <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="src/Cooked.InitialDistribution.html#toInitDistWithMinAda" class="link">Source</a> <a href="#v:toInitDistWithMinAda" class="selflink">#</a></p><div class="doc"><p>Transforms a given initial distribution by ensuring each payment has enough
 ada so that the resulting outputs can sustain themselves. This can fail if
 any of the payments cannot be translated to their Cardano counterpart.</p></div></div><div class="top"><p class="src"><a id="v:unsafeToInitDistWithMinAda" class="def">unsafeToInitDistWithMinAda</a> :: <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> -&gt; <a href="Cooked-InitialDistribution.html#t:InitialDistribution" title="Cooked.InitialDistribution">InitialDistribution</a> <a href="src/Cooked.InitialDistribution.html#unsafeToInitDistWithMinAda" class="link">Source</a> <a href="#v:unsafeToInitDistWithMinAda" class="selflink">#</a></p><div class="doc"><p>Unsafe variant of <code><a href="Cooked-InitialDistribution.html#v:toInitDistWithMinAda" title="Cooked.InitialDistribution">toInitDistWithMinAda</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>